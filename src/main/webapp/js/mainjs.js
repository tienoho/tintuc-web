/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
!function (a) { var b = navigator.userAgent; a.HTMLPictureElement && /ecko/.test(b) && b.match(/rv\:(\d+)/) && RegExp.$1 < 45 && addEventListener("resize", function () { var b, c = document.createElement("source"), d = function (a) { var b, d, e = a.parentNode; "PICTURE" === e.nodeName.toUpperCase() ? (b = c.cloneNode(), e.insertBefore(b, e.firstElementChild), setTimeout(function () { e.removeChild(b) })) : (!a._pfLastSize || a.offsetWidth > a._pfLastSize) && (a._pfLastSize = a.offsetWidth, d = a.sizes, a.sizes += ",100vw", setTimeout(function () { a.sizes = d })) }, e = function () { var a, b = document.querySelectorAll("picture > img, img[srcset][sizes]"); for (a = 0; a < b.length; a++) d(b[a]) }, f = function () { clearTimeout(b), b = setTimeout(e, 99) }, g = a.matchMedia && matchMedia("(orientation: landscape)"), h = function () { f(), g && g.addListener && g.addListener(f) }; return c.srcset = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", /^[c|i]|d$/.test(document.readyState || "") ? h() : document.addEventListener("DOMContentLoaded", h), f }()) }(window), function (a, b, c) { "use strict"; function d(a) { return " " === a || "	" === a || "\n" === a || "\f" === a || "\r" === a } function e(b, c) { var d = new a.Image; return d.onerror = function () { A[b] = !1, ba() }, d.onload = function () { A[b] = 1 === d.width, ba() }, d.src = c, "pending" } function f() { M = !1, P = a.devicePixelRatio, N = {}, O = {}, s.DPR = P || 1, Q.width = Math.max(a.innerWidth || 0, z.clientWidth), Q.height = Math.max(a.innerHeight || 0, z.clientHeight), Q.vw = Q.width / 100, Q.vh = Q.height / 100, r = [Q.height, Q.width, P].join("-"), Q.em = s.getEmValue(), Q.rem = Q.em } function g(a, b, c, d) { var e, f, g, h; return "saveData" === B.algorithm ? a > 2.7 ? h = c + 1 : (f = b - c, e = Math.pow(a - .6, 1.5), g = f * e, d && (g += .1 * e), h = a + g) : h = c > 1 ? Math.sqrt(a * b) : a, h > c } function h(a) { var b, c = s.getSet(a), d = !1; "pending" !== c && (d = r, c && (b = s.setRes(c), s.applySetCandidate(b, a))), a[s.ns].evaled = d } function i(a, b) { return a.res - b.res } function j(a, b, c) { var d; return !c && b && (c = a[s.ns].sets, c = c && c[c.length - 1]), d = k(b, c), d && (b = s.makeUrl(b), a[s.ns].curSrc = b, a[s.ns].curCan = d, d.res || aa(d, d.set.sizes)), d } function k(a, b) { var c, d, e; if (a && b) for (e = s.parseSet(b), a = s.makeUrl(a), c = 0; c < e.length; c++) if (a === s.makeUrl(e[c].url)) { d = e[c]; break } return d } function l(a, b) { var c, d, e, f, g = a.getElementsByTagName("source"); for (c = 0, d = g.length; d > c; c++) e = g[c], e[s.ns] = !0, f = e.getAttribute("srcset"), f && b.push({ srcset: f, media: e.getAttribute("media"), type: e.getAttribute("type"), sizes: e.getAttribute("sizes") }) } function m(a, b) { function c(b) { var c, d = b.exec(a.substring(m)); return d ? (c = d[0], m += c.length, c) : void 0 } function e() { var a, c, d, e, f, i, j, k, l, m = !1, o = {}; for (e = 0; e < h.length; e++) f = h[e], i = f[f.length - 1], j = f.substring(0, f.length - 1), k = parseInt(j, 10), l = parseFloat(j), X.test(j) && "w" === i ? ((a || c) && (m = !0), 0 === k ? m = !0 : a = k) : Y.test(j) && "x" === i ? ((a || c || d) && (m = !0), 0 > l ? m = !0 : c = l) : X.test(j) && "h" === i ? ((d || c) && (m = !0), 0 === k ? m = !0 : d = k) : m = !0; m || (o.url = g, a && (o.w = a), c && (o.d = c), d && (o.h = d), d || c || a || (o.d = 1), 1 === o.d && (b.has1x = !0), o.set = b, n.push(o)) } function f() { for (c(T), i = "", j = "in descriptor"; ;) { if (k = a.charAt(m), "in descriptor" === j) if (d(k)) i && (h.push(i), i = "", j = "after descriptor"); else { if ("," === k) return m += 1, i && h.push(i), void e(); if ("(" === k) i += k, j = "in parens"; else { if ("" === k) return i && h.push(i), void e(); i += k } } else if ("in parens" === j) if (")" === k) i += k, j = "in descriptor"; else { if ("" === k) return h.push(i), void e(); i += k } else if ("after descriptor" === j) if (d(k)); else { if ("" === k) return void e(); j = "in descriptor", m -= 1 } m += 1 } } for (var g, h, i, j, k, l = a.length, m = 0, n = []; ;) { if (c(U), m >= l) return n; g = c(V), h = [], "," === g.slice(-1) ? (g = g.replace(W, ""), e()) : f() } } function n(a) { function b(a) { function b() { f && (g.push(f), f = "") } function c() { g[0] && (h.push(g), g = []) } for (var e, f = "", g = [], h = [], i = 0, j = 0, k = !1; ;) { if (e = a.charAt(j), "" === e) return b(), c(), h; if (k) { if ("*" === e && "/" === a[j + 1]) { k = !1, j += 2, b(); continue } j += 1 } else { if (d(e)) { if (a.charAt(j - 1) && d(a.charAt(j - 1)) || !f) { j += 1; continue } if (0 === i) { b(), j += 1; continue } e = " " } else if ("(" === e) i += 1; else if (")" === e) i -= 1; else { if ("," === e) { b(), c(), j += 1; continue } if ("/" === e && "*" === a.charAt(j + 1)) { k = !0, j += 2; continue } } f += e, j += 1 } } } function c(a) { return k.test(a) && parseFloat(a) >= 0 ? !0 : l.test(a) ? !0 : "0" === a || "-0" === a || "+0" === a ? !0 : !1 } var e, f, g, h, i, j, k = /^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i, l = /^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i; for (f = b(a), g = f.length, e = 0; g > e; e++) if (h = f[e], i = h[h.length - 1], c(i)) { if (j = i, h.pop(), 0 === h.length) return j; if (h = h.join(" "), s.matchesMedia(h)) return j } return "100vw" } b.createElement("picture"); var o, p, q, r, s = {}, t = !1, u = function () { }, v = b.createElement("img"), w = v.getAttribute, x = v.setAttribute, y = v.removeAttribute, z = b.documentElement, A = {}, B = { algorithm: "" }, C = "data-pfsrc", D = C + "set", E = navigator.userAgent, F = /rident/.test(E) || /ecko/.test(E) && E.match(/rv\:(\d+)/) && RegExp.$1 > 35, G = "currentSrc", H = /\s+\+?\d+(e\d+)?w/, I = /(\([^)]+\))?\s*(.+)/, J = a.picturefillCFG, K = "position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)", L = "font-size:100%!important;", M = !0, N = {}, O = {}, P = a.devicePixelRatio, Q = { px: 1, "in": 96 }, R = b.createElement("a"), S = !1, T = /^[ \t\n\r\u000c]+/, U = /^[, \t\n\r\u000c]+/, V = /^[^ \t\n\r\u000c]+/, W = /[,]+$/, X = /^\d+$/, Y = /^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/, Z = function (a, b, c, d) { a.addEventListener ? a.addEventListener(b, c, d || !1) : a.attachEvent && a.attachEvent("on" + b, c) }, $ = function (a) { var b = {}; return function (c) { return c in b || (b[c] = a(c)), b[c] } }, _ = function () { var a = /^([\d\.]+)(em|vw|px)$/, b = function () { for (var a = arguments, b = 0, c = a[0]; ++b in a;) c = c.replace(a[b], a[++b]); return c }, c = $(function (a) { return "return " + b((a || "").toLowerCase(), /\band\b/g, "&&", /,/g, "||", /min-([a-z-\s]+):/g, "e.$1>=", /max-([a-z-\s]+):/g, "e.$1<=", /calc([^)]+)/g, "($1)", /(\d+[\.]*[\d]*)([a-z]+)/g, "($1 * e.$2)", /^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi, "") + ";" }); return function (b, d) { var e; if (!(b in N)) if (N[b] = !1, d && (e = b.match(a))) N[b] = e[1] * Q[e[2]]; else try { N[b] = new Function("e", c(b))(Q) } catch (f) { } return N[b] } }(), aa = function (a, b) { return a.w ? (a.cWidth = s.calcListLength(b || "100vw"), a.res = a.w / a.cWidth) : a.res = a.d, a }, ba = function (a) { if (t) { var c, d, e, f = a || {}; if (f.elements && 1 === f.elements.nodeType && ("IMG" === f.elements.nodeName.toUpperCase() ? f.elements = [f.elements] : (f.context = f.elements, f.elements = null)), c = f.elements || s.qsa(f.context || b, f.reevaluate || f.reselect ? s.sel : s.selShort), e = c.length) { for (s.setupRun(f), S = !0, d = 0; e > d; d++) s.fillImg(c[d], f); s.teardownRun(f) } } }; o = a.console && console.warn ? function (a) { console.warn(a) } : u, G in v || (G = "src"), A["image/jpeg"] = !0, A["image/gif"] = !0, A["image/png"] = !0, A["image/svg+xml"] = b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image", "1.1"), s.ns = ("pf" + (new Date).getTime()).substr(0, 9), s.supSrcset = "srcset" in v, s.supSizes = "sizes" in v, s.supPicture = !!a.HTMLPictureElement, s.supSrcset && s.supPicture && !s.supSizes && !function (a) { v.srcset = "data:,a", a.src = "data:,a", s.supSrcset = v.complete === a.complete, s.supPicture = s.supSrcset && s.supPicture }(b.createElement("img")), s.supSrcset && !s.supSizes ? !function () { var a = "data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==", c = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", d = b.createElement("img"), e = function () { var a = d.width; 2 === a && (s.supSizes = !0), q = s.supSrcset && !s.supSizes, t = !0, setTimeout(ba) }; d.onload = e, d.onerror = e, d.setAttribute("sizes", "9px"), d.srcset = c + " 1w," + a + " 9w", d.src = c }() : t = !0, s.selShort = "picture>img,img[srcset]", s.sel = s.selShort, s.cfg = B, s.DPR = P || 1, s.u = Q, s.types = A, s.setSize = u, s.makeUrl = $(function (a) { return R.href = a, R.href }), s.qsa = function (a, b) { return "querySelector" in a ? a.querySelectorAll(b) : [] }, s.matchesMedia = function () { return a.matchMedia && (matchMedia("(min-width: 0.1em)") || {}).matches ? s.matchesMedia = function (a) { return !a || matchMedia(a).matches } : s.matchesMedia = s.mMQ, s.matchesMedia.apply(this, arguments) }, s.mMQ = function (a) { return a ? _(a) : !0 }, s.calcLength = function (a) { var b = _(a, !0) || !1; return 0 > b && (b = !1), b }, s.supportsType = function (a) { return a ? A[a] : !0 }, s.parseSize = $(function (a) { var b = (a || "").match(I); return { media: b && b[1], length: b && b[2] } }), s.parseSet = function (a) { return a.cands || (a.cands = m(a.srcset, a)), a.cands }, s.getEmValue = function () { var a; if (!p && (a = b.body)) { var c = b.createElement("div"), d = z.style.cssText, e = a.style.cssText; c.style.cssText = K, z.style.cssText = L, a.style.cssText = L, a.appendChild(c), p = c.offsetWidth, a.removeChild(c), p = parseFloat(p, 10), z.style.cssText = d, a.style.cssText = e } return p || 16 }, s.calcListLength = function (a) { if (!(a in O) || B.uT) { var b = s.calcLength(n(a)); O[a] = b ? b : Q.width } return O[a] }, s.setRes = function (a) { var b; if (a) { b = s.parseSet(a); for (var c = 0, d = b.length; d > c; c++) aa(b[c], a.sizes) } return b }, s.setRes.res = aa, s.applySetCandidate = function (a, b) { if (a.length) { var c, d, e, f, h, k, l, m, n, o = b[s.ns], p = s.DPR; if (k = o.curSrc || b[G], l = o.curCan || j(b, k, a[0].set), l && l.set === a[0].set && (n = F && !b.complete && l.res - .1 > p, n || (l.cached = !0, l.res >= p && (h = l))), !h) for (a.sort(i), f = a.length, h = a[f - 1], d = 0; f > d; d++) if (c = a[d], c.res >= p) { e = d - 1, h = a[e] && (n || k !== s.makeUrl(c.url)) && g(a[e].res, c.res, p, a[e].cached) ? a[e] : c; break } h && (m = s.makeUrl(h.url), o.curSrc = m, o.curCan = h, m !== k && s.setSrc(b, h), s.setSize(b)) } }, s.setSrc = function (a, b) { var c; a.src = b.url, "image/svg+xml" === b.set.type && (c = a.style.width, a.style.width = a.offsetWidth + 1 + "px", a.offsetWidth + 1 && (a.style.width = c)) }, s.getSet = function (a) { var b, c, d, e = !1, f = a[s.ns].sets; for (b = 0; b < f.length && !e; b++) if (c = f[b], c.srcset && s.matchesMedia(c.media) && (d = s.supportsType(c.type))) { "pending" === d && (c = d), e = c; break } return e }, s.parseSets = function (a, b, d) { var e, f, g, h, i = b && "PICTURE" === b.nodeName.toUpperCase(), j = a[s.ns]; (j.src === c || d.src) && (j.src = w.call(a, "src"), j.src ? x.call(a, C, j.src) : y.call(a, C)), (j.srcset === c || d.srcset || !s.supSrcset || a.srcset) && (e = w.call(a, "srcset"), j.srcset = e, h = !0), j.sets = [], i && (j.pic = !0, l(b, j.sets)), j.srcset ? (f = { srcset: j.srcset, sizes: w.call(a, "sizes") }, j.sets.push(f), g = (q || j.src) && H.test(j.srcset || ""), g || !j.src || k(j.src, f) || f.has1x || (f.srcset += ", " + j.src, f.cands.push({ url: j.src, d: 1, set: f }))) : j.src && j.sets.push({ srcset: j.src, sizes: null }), j.curCan = null, j.curSrc = c, j.supported = !(i || f && !s.supSrcset || g && !s.supSizes), h && s.supSrcset && !j.supported && (e ? (x.call(a, D, e), a.srcset = "") : y.call(a, D)), j.supported && !j.srcset && (!j.src && a.src || a.src !== s.makeUrl(j.src)) && (null === j.src ? a.removeAttribute("src") : a.src = j.src), j.parsed = !0 }, s.fillImg = function (a, b) { var c, d = b.reselect || b.reevaluate; a[s.ns] || (a[s.ns] = {}), c = a[s.ns], (d || c.evaled !== r) && ((!c.parsed || b.reevaluate) && s.parseSets(a, a.parentNode, b), c.supported ? c.evaled = r : h(a)) }, s.setupRun = function () { (!S || M || P !== a.devicePixelRatio) && f() }, s.supPicture ? (ba = u, s.fillImg = u) : !function () { var c, d = a.attachEvent ? /d$|^c/ : /d$|^c|^i/, e = function () { var a = b.readyState || ""; f = setTimeout(e, "loading" === a ? 200 : 999), b.body && (s.fillImgs(), c = c || d.test(a), c && clearTimeout(f)) }, f = setTimeout(e, b.body ? 9 : 99), g = function (a, b) { var c, d, e = function () { var f = new Date - d; b > f ? c = setTimeout(e, b - f) : (c = null, a()) }; return function () { d = new Date, c || (c = setTimeout(e, b)) } }, h = z.clientHeight, i = function () { M = Math.max(a.innerWidth || 0, z.clientWidth) !== Q.width || z.clientHeight !== h, h = z.clientHeight, M && s.fillImgs() }; Z(a, "resize", g(i, 99)), Z(b, "readystatechange", e) }(), s.picturefill = ba, s.fillImgs = ba, s.teardownRun = u, ba._ = s, a.picturefillCFG = { pf: s, push: function (a) { var b = a.shift(); "function" == typeof s[b] ? s[b].apply(s, a) : (B[b] = a[0], S && s.fillImgs({ reselect: !0 })) } }; for (; J && J.length;) a.picturefillCFG.push(J.shift()); a.picturefill = ba, "object" == typeof module && "object" == typeof module.exports ? module.exports = ba : "function" == typeof define && define.amd && define("picturefill", function () { return ba }), s.supPicture || (A["image/webp"] = e("image/webp", "data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==")) }(window, document);
;
/*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
"undefined" == typeof jQuery.migrateMute && (jQuery.migrateMute = !0), function (a, b, c) { function d(c) { var d = b.console; f[c] || (f[c] = !0, a.migrateWarnings.push(c), d && d.warn && !a.migrateMute && (d.warn("JQMIGRATE: " + c), a.migrateTrace && d.trace && d.trace())) } function e(b, c, e, f) { if (Object.defineProperty) try { return void Object.defineProperty(b, c, { configurable: !0, enumerable: !0, get: function () { return d(f), e }, set: function (a) { d(f), e = a } }) } catch (g) { } a._definePropertyBroken = !0, b[c] = e } a.migrateVersion = "1.4.1"; var f = {}; a.migrateWarnings = [], b.console && b.console.log && b.console.log("JQMIGRATE: Migrate is installed" + (a.migrateMute ? "" : " with logging active") + ", version " + a.migrateVersion), a.migrateTrace === c && (a.migrateTrace = !0), a.migrateReset = function () { f = {}, a.migrateWarnings.length = 0 }, "BackCompat" === document.compatMode && d("jQuery is not compatible with Quirks Mode"); var g = a("<input/>", { size: 1 }).attr("size") && a.attrFn, h = a.attr, i = a.attrHooks.value && a.attrHooks.value.get || function () { return null }, j = a.attrHooks.value && a.attrHooks.value.set || function () { return c }, k = /^(?:input|button)$/i, l = /^[238]$/, m = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i, n = /^(?:checked|selected)$/i; e(a, "attrFn", g || {}, "jQuery.attrFn is deprecated"), a.attr = function (b, e, f, i) { var j = e.toLowerCase(), o = b && b.nodeType; return i && (h.length < 4 && d("jQuery.fn.attr( props, pass ) is deprecated"), b && !l.test(o) && (g ? e in g : a.isFunction(a.fn[e]))) ? a(b)[e](f) : ("type" === e && f !== c && k.test(b.nodeName) && b.parentNode && d("Can't change the 'type' of an input or button in IE 6/7/8"), !a.attrHooks[j] && m.test(j) && (a.attrHooks[j] = { get: function (b, d) { var e, f = a.prop(b, d); return f === !0 || "boolean" != typeof f && (e = b.getAttributeNode(d)) && e.nodeValue !== !1 ? d.toLowerCase() : c }, set: function (b, c, d) { var e; return c === !1 ? a.removeAttr(b, d) : (e = a.propFix[d] || d, e in b && (b[e] = !0), b.setAttribute(d, d.toLowerCase())), d } }, n.test(j) && d("jQuery.fn.attr('" + j + "') might use property instead of attribute")), h.call(a, b, e, f)) }, a.attrHooks.value = { get: function (a, b) { var c = (a.nodeName || "").toLowerCase(); return "button" === c ? i.apply(this, arguments) : ("input" !== c && "option" !== c && d("jQuery.fn.attr('value') no longer gets properties"), b in a ? a.value : null) }, set: function (a, b) { var c = (a.nodeName || "").toLowerCase(); return "button" === c ? j.apply(this, arguments) : ("input" !== c && "option" !== c && d("jQuery.fn.attr('value', val) no longer sets properties"), void (a.value = b)) } }; var o, p, q = a.fn.init, r = a.find, s = a.parseJSON, t = /^\s*</, u = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/, v = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g, w = /^([^<]*)(<[\w\W]+>)([^>]*)$/; a.fn.init = function (b, e, f) { var g, h; return b && "string" == typeof b && !a.isPlainObject(e) && (g = w.exec(a.trim(b))) && g[0] && (t.test(b) || d("$(html) HTML strings must start with '<' character"), g[3] && d("$(html) HTML text after last tag is ignored"), "#" === g[0].charAt(0) && (d("HTML string cannot start with a '#' character"), a.error("JQMIGRATE: Invalid selector string (XSS)")), e && e.context && e.context.nodeType && (e = e.context), a.parseHTML) ? q.call(this, a.parseHTML(g[2], e && e.ownerDocument || e || document, !0), e, f) : (h = q.apply(this, arguments), b && b.selector !== c ? (h.selector = b.selector, h.context = b.context) : (h.selector = "string" == typeof b ? b : "", b && (h.context = b.nodeType ? b : e || document)), h) }, a.fn.init.prototype = a.fn, a.find = function (a) { var b = Array.prototype.slice.call(arguments); if ("string" == typeof a && u.test(a)) try { document.querySelector(a) } catch (c) { a = a.replace(v, function (a, b, c, d) { return "[" + b + c + '"' + d + '"]' }); try { document.querySelector(a), d("Attribute selector with '#' must be quoted: " + b[0]), b[0] = a } catch (e) { d("Attribute selector with '#' was not fixed: " + b[0]) } } return r.apply(this, b) }; var x; for (x in r) Object.prototype.hasOwnProperty.call(r, x) && (a.find[x] = r[x]); a.parseJSON = function (a) { return a ? s.apply(this, arguments) : (d("jQuery.parseJSON requires a valid JSON string"), null) }, a.uaMatch = function (a) { a = a.toLowerCase(); var b = /(chrome)[ \/]([\w.]+)/.exec(a) || /(webkit)[ \/]([\w.]+)/.exec(a) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a) || /(msie) ([\w.]+)/.exec(a) || a.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a) || []; return { browser: b[1] || "", version: b[2] || "0" } }, a.browser || (o = a.uaMatch(navigator.userAgent), p = {}, o.browser && (p[o.browser] = !0, p.version = o.version), p.chrome ? p.webkit = !0 : p.webkit && (p.safari = !0), a.browser = p), e(a, "browser", a.browser, "jQuery.browser is deprecated"), a.boxModel = a.support.boxModel = "CSS1Compat" === document.compatMode, e(a, "boxModel", a.boxModel, "jQuery.boxModel is deprecated"), e(a.support, "boxModel", a.support.boxModel, "jQuery.support.boxModel is deprecated"), a.sub = function () { function b(a, c) { return new b.fn.init(a, c) } a.extend(!0, b, this), b.superclass = this, b.fn = b.prototype = this(), b.fn.constructor = b, b.sub = this.sub, b.fn.init = function (d, e) { var f = a.fn.init.call(this, d, e, c); return f instanceof b ? f : b(f) }, b.fn.init.prototype = b.fn; var c = b(document); return d("jQuery.sub() is deprecated"), b }, a.fn.size = function () { return d("jQuery.fn.size() is deprecated; use the .length property"), this.length }; var y = !1; a.swap && a.each(["height", "width", "reliableMarginRight"], function (b, c) { var d = a.cssHooks[c] && a.cssHooks[c].get; d && (a.cssHooks[c].get = function () { var a; return y = !0, a = d.apply(this, arguments), y = !1, a }) }), a.swap = function (a, b, c, e) { var f, g, h = {}; y || d("jQuery.swap() is undocumented and deprecated"); for (g in b) h[g] = a.style[g], a.style[g] = b[g]; f = c.apply(a, e || []); for (g in b) a.style[g] = h[g]; return f }, a.ajaxSetup({ converters: { "text json": a.parseJSON } }); var z = a.fn.data; a.fn.data = function (b) { var e, f, g = this[0]; return !g || "events" !== b || 1 !== arguments.length || (e = a.data(g, b), f = a._data(g, b), e !== c && e !== f || f === c) ? z.apply(this, arguments) : (d("Use of jQuery.fn.data('events') is deprecated"), f) }; var A = /\/(java|ecma)script/i; a.clean || (a.clean = function (b, c, e, f) { c = c || document, c = !c.nodeType && c[0] || c, c = c.ownerDocument || c, d("jQuery.clean() is deprecated"); var g, h, i, j, k = []; if (a.merge(k, a.buildFragment(b, c).childNodes), e) for (i = function (a) { return !a.type || A.test(a.type) ? f ? f.push(a.parentNode ? a.parentNode.removeChild(a) : a) : e.appendChild(a) : void 0 }, g = 0; null != (h = k[g]) ; g++) a.nodeName(h, "script") && i(h) || (e.appendChild(h), "undefined" != typeof h.getElementsByTagName && (j = a.grep(a.merge([], h.getElementsByTagName("script")), i), k.splice.apply(k, [g + 1, 0].concat(j)), g += j.length)); return k }); var B = a.event.add, C = a.event.remove, D = a.event.trigger, E = a.fn.toggle, F = a.fn.live, G = a.fn.die, H = a.fn.load, I = "ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess", J = new RegExp("\\b(?:" + I + ")\\b"), K = /(?:^|\s)hover(\.\S+|)\b/, L = function (b) { return "string" != typeof b || a.event.special.hover ? b : (K.test(b) && d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"), b && b.replace(K, "mouseenter$1 mouseleave$1")) }; a.event.props && "attrChange" !== a.event.props[0] && a.event.props.unshift("attrChange", "attrName", "relatedNode", "srcElement"), a.event.dispatch && e(a.event, "handle", a.event.dispatch, "jQuery.event.handle is undocumented and deprecated"), a.event.add = function (a, b, c, e, f) { a !== document && J.test(b) && d("AJAX events should be attached to document: " + b), B.call(this, a, L(b || ""), c, e, f) }, a.event.remove = function (a, b, c, d, e) { C.call(this, a, L(b) || "", c, d, e) }, a.each(["load", "unload", "error"], function (b, c) { a.fn[c] = function () { var a = Array.prototype.slice.call(arguments, 0); return "load" === c && "string" == typeof a[0] ? H.apply(this, a) : (d("jQuery.fn." + c + "() is deprecated"), a.splice(0, 0, c), arguments.length ? this.bind.apply(this, a) : (this.triggerHandler.apply(this, a), this)) } }), a.fn.toggle = function (b, c) { if (!a.isFunction(b) || !a.isFunction(c)) return E.apply(this, arguments); d("jQuery.fn.toggle(handler, handler...) is deprecated"); var e = arguments, f = b.guid || a.guid++, g = 0, h = function (c) { var d = (a._data(this, "lastToggle" + b.guid) || 0) % g; return a._data(this, "lastToggle" + b.guid, d + 1), c.preventDefault(), e[d].apply(this, arguments) || !1 }; for (h.guid = f; g < e.length;) e[g++].guid = f; return this.click(h) }, a.fn.live = function (b, c, e) { return d("jQuery.fn.live() is deprecated"), F ? F.apply(this, arguments) : (a(this.context).on(b, this.selector, c, e), this) }, a.fn.die = function (b, c) { return d("jQuery.fn.die() is deprecated"), G ? G.apply(this, arguments) : (a(this.context).off(b, this.selector || "**", c), this) }, a.event.trigger = function (a, b, c, e) { return c || J.test(a) || d("Global events are undocumented and deprecated"), D.call(this, a, b, c || document, e) }, a.each(I.split("|"), function (b, c) { a.event.special[c] = { setup: function () { var b = this; return b !== document && (a.event.add(document, c + "." + a.guid, function () { a.event.trigger(c, Array.prototype.slice.call(arguments, 1), b, !0) }), a._data(this, c, a.guid++)), !1 }, teardown: function () { return this !== document && a.event.remove(document, c + "." + a._data(this, c)), !1 } } }), a.event.special.ready = { setup: function () { this === document && d("'ready' event is deprecated") } }; var M = a.fn.andSelf || a.fn.addBack, N = a.fn.find; if (a.fn.andSelf = function () { return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"), M.apply(this, arguments) }, a.fn.find = function (a) { var b = N.apply(this, arguments); return b.context = this.context, b.selector = this.selector ? this.selector + " " + a : a, b }, a.Callbacks) { var O = a.Deferred, P = [["resolve", "done", a.Callbacks("once memory"), a.Callbacks("once memory"), "resolved"], ["reject", "fail", a.Callbacks("once memory"), a.Callbacks("once memory"), "rejected"], ["notify", "progress", a.Callbacks("memory"), a.Callbacks("memory")]]; a.Deferred = function (b) { var c = O(), e = c.promise(); return c.pipe = e.pipe = function () { var b = arguments; return d("deferred.pipe() is deprecated"), a.Deferred(function (d) { a.each(P, function (f, g) { var h = a.isFunction(b[f]) && b[f]; c[g[1]](function () { var b = h && h.apply(this, arguments); b && a.isFunction(b.promise) ? b.promise().done(d.resolve).fail(d.reject).progress(d.notify) : d[g[0] + "With"](this === e ? d.promise() : this, h ? [b] : arguments) }) }), b = null }).promise() }, c.isResolved = function () { return d("deferred.isResolved is deprecated"), "resolved" === c.state() }, c.isRejected = function () { return d("deferred.isRejected is deprecated"), "rejected" === c.state() }, b && b.call(c, c), c } } }(jQuery, window); !function (e) { function t() { var e = location.href; return hashtag = -1 !== e.indexOf("#prettyPhoto") ? decodeURI(e.substring(e.indexOf("#prettyPhoto") + 1, e.length)) : !1, hashtag && (hashtag = hashtag.replace(/<|>/g, "")), hashtag } function i() { "undefined" != typeof theRel && (location.hash = theRel + "/" + rel_index + "/") } function p() { -1 !== location.href.indexOf("#prettyPhoto") && (location.hash = "prettyPhoto") } function o(e, t) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var i = "[\\?&]" + e + "=([^&#]*)", p = new RegExp(i), o = p.exec(t); return null == o ? "" : o[1] } e.prettyPhoto = { version: "3.1.6" }, e.fn.prettyPhoto = function (a) { function s() { e(".pp_loaderIcon").hide(), projectedTop = scroll_pos.scrollTop + (I / 2 - f.containerHeight / 2), projectedTop < 0 && (projectedTop = 0), $ppt.fadeTo(settings.animation_speed, 1), $pp_pic_holder.find(".pp_content").animate({ height: f.contentHeight, width: f.contentWidth }, settings.animation_speed), $pp_pic_holder.animate({ top: projectedTop, left: j / 2 - f.containerWidth / 2 < 0 ? 0 : j / 2 - f.containerWidth / 2, width: f.containerWidth }, settings.animation_speed, function () { $pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(f.height).width(f.width), $pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed), isSet && "image" == h(pp_images[set_position]) ? $pp_pic_holder.find(".pp_hoverContainer").show() : $pp_pic_holder.find(".pp_hoverContainer").hide(), settings.allow_expand && (f.resized ? e("a.pp_expand,a.pp_contract").show() : e("a.pp_expand").hide()), !settings.autoplay_slideshow || P || v || e.prettyPhoto.startSlideshow(), settings.changepicturecallback(), v = !0 }), m(), a.ajaxcallback() } function n(t) { $pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility", "hidden"), $pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed, function () { e(".pp_loaderIcon").show(), t() }) } function r(t) { t > 1 ? e(".pp_nav").show() : e(".pp_nav").hide() } function l(e, t) { if (resized = !1, d(e, t), imageWidth = e, imageHeight = t, (k > j || b > I) && doresize && settings.allow_resize && !$) { for (resized = !0, fitting = !1; !fitting;) k > j ? (imageWidth = j - 200, imageHeight = t / e * imageWidth) : b > I ? (imageHeight = I - 200, imageWidth = e / t * imageHeight) : fitting = !0, b = imageHeight, k = imageWidth; (k > j || b > I) && l(k, b), d(imageWidth, imageHeight) } return { width: Math.floor(imageWidth), height: Math.floor(imageHeight), containerHeight: Math.floor(b), containerWidth: Math.floor(k) + 2 * settings.horizontal_padding, contentHeight: Math.floor(y), contentWidth: Math.floor(w), resized: resized } } function d(t, i) { t = parseFloat(t), i = parseFloat(i), $pp_details = $pp_pic_holder.find(".pp_details"), $pp_details.width(t), detailsHeight = parseFloat($pp_details.css("marginTop")) + parseFloat($pp_details.css("marginBottom")), $pp_details = $pp_details.clone().addClass(settings.theme).width(t).appendTo(e("body")).css({ position: "absolute", top: -1e4 }), detailsHeight += $pp_details.height(), detailsHeight = detailsHeight <= 34 ? 36 : detailsHeight, $pp_details.remove(), $pp_title = $pp_pic_holder.find(".ppt"), $pp_title.width(t), titleHeight = parseFloat($pp_title.css("marginTop")) + parseFloat($pp_title.css("marginBottom")), $pp_title = $pp_title.clone().appendTo(e("body")).css({ position: "absolute", top: -1e4 }), titleHeight += $pp_title.height(), $pp_title.remove(), y = i + detailsHeight, w = t, b = y + titleHeight + $pp_pic_holder.find(".pp_top").height() + $pp_pic_holder.find(".pp_bottom").height(), k = t } function h(e) { return e.match(/youtube\.com\/watch/i) || e.match(/youtu\.be/i) ? "youtube" : e.match(/vimeo\.com/i) ? "vimeo" : e.match(/\b.mov\b/i) ? "quicktime" : e.match(/\b.swf\b/i) ? "flash" : e.match(/\biframe=true\b/i) ? "iframe" : e.match(/\bajax=true\b/i) ? "ajax" : e.match(/\bcustom=true\b/i) ? "custom" : "#" == e.substr(0, 1) ? "inline" : "image" } function c() { if (doresize && "undefined" != typeof $pp_pic_holder) { if (scroll_pos = _(), contentHeight = $pp_pic_holder.height(), contentwidth = $pp_pic_holder.width(), projectedTop = I / 2 + scroll_pos.scrollTop - contentHeight / 2, projectedTop < 0 && (projectedTop = 0), contentHeight > I) return; $pp_pic_holder.css({ top: projectedTop, left: j / 2 + scroll_pos.scrollLeft - contentwidth / 2 }) } } function _() { return self.pageYOffset ? { scrollTop: self.pageYOffset, scrollLeft: self.pageXOffset } : document.documentElement && document.documentElement.scrollTop ? { scrollTop: document.documentElement.scrollTop, scrollLeft: document.documentElement.scrollLeft } : document.body ? { scrollTop: document.body.scrollTop, scrollLeft: document.body.scrollLeft } : void 0 } function g() { I = e(window).height(), j = e(window).width(), "undefined" != typeof $pp_overlay && $pp_overlay.height(e(document).height()).width(j) } function m() { isSet && settings.overlay_gallery && "image" == h(pp_images[set_position]) ? (itemWidth = 57, navWidth = "facebook" == settings.theme || "pp_default" == settings.theme ? 50 : 30, itemsPerPage = Math.floor((f.containerWidth - 100 - navWidth) / itemWidth), itemsPerPage = itemsPerPage < pp_images.length ? itemsPerPage : pp_images.length, totalPage = Math.ceil(pp_images.length / itemsPerPage) - 1, 0 == totalPage ? (navWidth = 0, $pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()) : $pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(), galleryWidth = itemsPerPage * itemWidth, fullGalleryWidth = pp_images.length * itemWidth, $pp_gallery.css("margin-left", -(galleryWidth / 2 + navWidth / 2)).find("div:first").width(galleryWidth + 5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"), goToPage = Math.floor(set_position / itemsPerPage) < totalPage ? Math.floor(set_position / itemsPerPage) : totalPage, e.prettyPhoto.changeGalleryPage(goToPage), $pp_gallery_li.filter(":eq(" + set_position + ")").addClass("selected")) : $pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave") } function u() { if (settings.social_tools && (facebook_like_link = settings.social_tools.replace("{location_href}", encodeURIComponent(location.href))), settings.markup = settings.markup.replace("{pp_social}", ""), e("body").append(settings.markup), $pp_pic_holder = e(".pp_pic_holder"), $ppt = e(".ppt"), $pp_overlay = e("div.pp_overlay"), isSet && settings.overlay_gallery) { currentGalleryPage = 0, toInject = ""; for (var t = 0; t < pp_images.length; t++) pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi) ? (classname = "", img_src = pp_images[t]) : (classname = "default", img_src = ""), toInject += "<li class='" + classname + "'><a href='#'><img src='" + img_src + "' width='50' alt='' /></a></li>"; toInject = settings.gallery_markup.replace(/{gallery}/g, toInject), $pp_pic_holder.find("#pp_full_res").after(toInject), $pp_gallery = e(".pp_pic_holder .pp_gallery"), $pp_gallery_li = $pp_gallery.find("li"), $pp_gallery.find(".pp_arrow_next").click(function () { return e.prettyPhoto.changeGalleryPage("next"), e.prettyPhoto.stopSlideshow(), !1 }), $pp_gallery.find(".pp_arrow_previous").click(function () { return e.prettyPhoto.changeGalleryPage("previous"), e.prettyPhoto.stopSlideshow(), !1 }), $pp_pic_holder.find(".pp_content").hover(function () { $pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn() }, function () { $pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut() }), itemWidth = 57, $pp_gallery_li.each(function (t) { e(this).find("a").click(function () { return e.prettyPhoto.changePage(t), e.prettyPhoto.stopSlideshow(), !1 }) }) } settings.slideshow && ($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'), $pp_pic_holder.find(".pp_nav .pp_play").click(function () { return e.prettyPhoto.startSlideshow(), !1 })), $pp_pic_holder.attr("class", "pp_pic_holder " + settings.theme), $pp_overlay.css({ opacity: 0, height: e(document).height(), width: e(window).width() }).bind("click", function () { settings.modal || e.prettyPhoto.close() }), e("a.pp_close").bind("click", function () { return e.prettyPhoto.close(), !1 }), settings.allow_expand && e("a.pp_expand").bind("click", function () { return e(this).hasClass("pp_expand") ? (e(this).removeClass("pp_expand").addClass("pp_contract"), doresize = !1) : (e(this).removeClass("pp_contract").addClass("pp_expand"), doresize = !0), n(function () { e.prettyPhoto.open() }), !1 }), $pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click", function () { return e.prettyPhoto.changePage("previous"), e.prettyPhoto.stopSlideshow(), !1 }), $pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click", function () { return e.prettyPhoto.changePage("next"), e.prettyPhoto.stopSlideshow(), !1 }), c() } a = jQuery.extend({ hook: "rel", animation_speed: "fast", ajaxcallback: function () { }, slideshow: 5e3, autoplay_slideshow: !1, opacity: .8, show_title: !0, allow_resize: !0, allow_expand: !0, default_width: 500, default_height: 344, counter_separator_label: "/", theme: "pp_default", horizontal_padding: 20, hideflash: !1, wmode: "opaque", autoplay: !0, modal: !1, deeplinking: !0, overlay_gallery: !0, overlay_gallery_max: 30, keyboard_shortcuts: !0, changepicturecallback: function () { }, callback: function () { }, ie6_fallback: !0, markup: '<div class="pp_pic_holder">       <div class="ppt">&nbsp;</div>       <div class="pp_top">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>       <div class="pp_content_container">        <div class="pp_left">        <div class="pp_right">         <div class="pp_content">          <div class="pp_loaderIcon"></div>          <div class="pp_fade">           <a href="#" class="pp_expand" title="Expand the image">Expand</a>           <div class="pp_hoverContainer">            <a class="pp_next" href="#">next</a>            <a class="pp_previous" href="#">previous</a>           </div>           <div id="pp_full_res"></div>           <div class="pp_details">            <div class="pp_nav">             <a href="#" class="pp_arrow_previous">Previous</a>             <p class="currentTextHolder">0/0</p>             <a href="#" class="pp_arrow_next">Next</a>            </div>            <p class="pp_description"></p>            <div class="pp_social">{pp_social}</div>            <a class="pp_close" href="#">Close</a>           </div>          </div>         </div>        </div>        </div>       </div>       <div class="pp_bottom">        <div class="pp_left"></div>        <div class="pp_middle"></div>        <div class="pp_right"></div>       </div>      </div>      <div class="pp_overlay"></div>', gallery_markup: '<div class="pp_gallery">         <a href="#" class="pp_arrow_previous">Previous</a>         <div>          <ul>           {gallery}          </ul>         </div>         <a href="#" class="pp_arrow_next">Next</a>        </div>', image_markup: '<img id="fullResImage" src="{path}" />', flash_markup: '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>', quicktime_markup: '<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>', iframe_markup: '<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>', inline_markup: '<div class="pp_inline">{content}</div>', custom_markup: "", social_tools: '<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>' }, a); var f, v, y, w, b, k, P, x = this, $ = !1, I = e(window).height(), j = e(window).width(); return doresize = !0, scroll_pos = _(), e(window).unbind("resize.prettyphoto").bind("resize.prettyphoto", function () { c(), g() }), a.keyboard_shortcuts && e(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto", function (t) { if ("undefined" != typeof $pp_pic_holder && $pp_pic_holder.is(":visible")) switch (t.keyCode) { case 37: e.prettyPhoto.changePage("previous"), t.preventDefault(); break; case 39: e.prettyPhoto.changePage("next"), t.preventDefault(); break; case 27: settings.modal || e.prettyPhoto.close(), t.preventDefault() } }), e.prettyPhoto.initialize = function () { return settings = a, "pp_default" == settings.theme && (settings.horizontal_padding = 16), theRel = e(this).attr(settings.hook), galleryRegExp = /\[(?:.*)\]/, isSet = galleryRegExp.exec(theRel) ? !0 : !1, pp_images = isSet ? jQuery.map(x, function (t) { return -1 != e(t).attr(settings.hook).indexOf(theRel) ? e(t).attr("href") : void 0 }) : e.makeArray(e(this).attr("href")), pp_titles = isSet ? jQuery.map(x, function (t) { return -1 != e(t).attr(settings.hook).indexOf(theRel) ? e(t).find("img").attr("alt") ? e(t).find("img").attr("alt") : "" : void 0 }) : e.makeArray(e(this).find("img").attr("alt")), pp_descriptions = isSet ? jQuery.map(x, function (t) { return -1 != e(t).attr(settings.hook).indexOf(theRel) ? e(t).attr("title") ? e(t).attr("title") : "" : void 0 }) : e.makeArray(e(this).attr("title")), pp_images.length > settings.overlay_gallery_max && (settings.overlay_gallery = !1), set_position = jQuery.inArray(e(this).attr("href"), pp_images), rel_index = isSet ? set_position : e("a[" + settings.hook + "^='" + theRel + "']").index(e(this)), u(this), settings.allow_resize && e(window).bind("scroll.prettyphoto", function () { c() }), e.prettyPhoto.open(), !1 }, e.prettyPhoto.open = function (t) { return "undefined" == typeof settings && (settings = a, pp_images = e.makeArray(arguments[0]), pp_titles = e.makeArray(arguments[1] ? arguments[1] : ""), pp_descriptions = e.makeArray(arguments[2] ? arguments[2] : ""), isSet = pp_images.length > 1 ? !0 : !1, set_position = arguments[3] ? arguments[3] : 0, u(t.target)), settings.hideflash && e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility", "hidden"), r(e(pp_images).size()), e(".pp_loaderIcon").show(), settings.deeplinking && i(), settings.social_tools && (facebook_like_link = settings.social_tools.replace("{location_href}", encodeURIComponent(location.href)), $pp_pic_holder.find(".pp_social").html(facebook_like_link)), $ppt.is(":hidden") && $ppt.css("opacity", 0).show(), $pp_overlay.show().fadeTo(settings.animation_speed, settings.opacity), $pp_pic_holder.find(".currentTextHolder").text(set_position + 1 + settings.counter_separator_label + e(pp_images).size()), "undefined" != typeof pp_descriptions[set_position] && "" != pp_descriptions[set_position] ? $pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])) : $pp_pic_holder.find(".pp_description").hide(), movie_width = parseFloat(o("width", pp_images[set_position])) ? o("width", pp_images[set_position]) : settings.default_width.toString(), movie_height = parseFloat(o("height", pp_images[set_position])) ? o("height", pp_images[set_position]) : settings.default_height.toString(), $ = !1, -1 != movie_height.indexOf("%") && (movie_height = parseFloat(e(window).height() * parseFloat(movie_height) / 100 - 150), $ = !0), -1 != movie_width.indexOf("%") && (movie_width = parseFloat(e(window).width() * parseFloat(movie_width) / 100 - 150), $ = !0), $pp_pic_holder.fadeIn(function () { switch ($ppt.html(settings.show_title && "" != pp_titles[set_position] && "undefined" != typeof pp_titles[set_position] ? unescape(pp_titles[set_position]) : "&nbsp;"), imgPreloader = "", skipInjection = !1, h(pp_images[set_position])) { case "image": imgPreloader = new Image, nextImage = new Image, isSet && set_position < e(pp_images).size() - 1 && (nextImage.src = pp_images[set_position + 1]), prevImage = new Image, isSet && pp_images[set_position - 1] && (prevImage.src = pp_images[set_position - 1]), $pp_pic_holder.find("#pp_full_res")[0].innerHTML = settings.image_markup.replace(/{path}/g, pp_images[set_position]), imgPreloader.onload = function () { f = l(imgPreloader.width, imgPreloader.height), s() }, imgPreloader.onerror = function () { alert("Image cannot be loaded. Make sure the path is correct and image exist."), e.prettyPhoto.close() }, imgPreloader.src = pp_images[set_position]; break; case "youtube": f = l(movie_width, movie_height), movie_id = o("v", pp_images[set_position]), "" == movie_id && (movie_id = pp_images[set_position].split("youtu.be/index.html"), movie_id = movie_id[1], movie_id.indexOf("?") > 0 && (movie_id = movie_id.substr(0, movie_id.indexOf("?"))), movie_id.indexOf("&") > 0 && (movie_id = movie_id.substr(0, movie_id.indexOf("&")))), movie = "http://www.youtube.com/embed/" + movie_id, movie += o("rel", pp_images[set_position]) ? "?rel=" + o("rel", pp_images[set_position]) : "?rel=1", settings.autoplay && (movie += "&autoplay=1"), toInject = settings.iframe_markup.replace(/{width}/g, f.width).replace(/{height}/g, f.height).replace(/{wmode}/g, settings.wmode).replace(/{path}/g, movie); break; case "vimeo": f = l(movie_width, movie_height), movie_id = pp_images[set_position]; var t = /http(s?):\/\/(www\.)?vimeo.com\/(\d+)/, i = movie_id.match(t); movie = "http://player.vimeo.com/video/" + i[3] + "?title=0&byline=0&portrait=0", settings.autoplay && (movie += "&autoplay=1;"), vimeo_width = f.width + "/embed/?moog_width=" + f.width, toInject = settings.iframe_markup.replace(/{width}/g, vimeo_width).replace(/{height}/g, f.height).replace(/{path}/g, movie); break; case "quicktime": f = l(movie_width, movie_height), f.height += 15, f.contentHeight += 15, f.containerHeight += 15, toInject = settings.quicktime_markup.replace(/{width}/g, f.width).replace(/{height}/g, f.height).replace(/{wmode}/g, settings.wmode).replace(/{path}/g, pp_images[set_position]).replace(/{autoplay}/g, settings.autoplay); break; case "flash": f = l(movie_width, movie_height), flash_vars = pp_images[set_position], flash_vars = flash_vars.substring(pp_images[set_position].indexOf("flashvars") + 10, pp_images[set_position].length), filename = pp_images[set_position], filename = filename.substring(0, filename.indexOf("?")), toInject = settings.flash_markup.replace(/{width}/g, f.width).replace(/{height}/g, f.height).replace(/{wmode}/g, settings.wmode).replace(/{path}/g, filename + "?" + flash_vars); break; case "iframe": f = l(movie_width, movie_height), frame_url = pp_images[set_position], frame_url = frame_url.substr(0, frame_url.indexOf("iframe") - 1), toInject = settings.iframe_markup.replace(/{width}/g, f.width).replace(/{height}/g, f.height).replace(/{path}/g, frame_url); break; case "ajax": doresize = !1, f = l(movie_width, movie_height), doresize = !0, skipInjection = !0, e.get(pp_images[set_position], function (e) { toInject = settings.inline_markup.replace(/{content}/g, e), $pp_pic_holder.find("#pp_full_res")[0].innerHTML = toInject, s() }); break; case "custom": f = l(movie_width, movie_height), toInject = settings.custom_markup; break; case "inline": myClone = e(pp_images[set_position]).clone().append('<br clear="all" />').css({ width: settings.default_width }).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(e("body")).show(), doresize = !1, f = l(e(myClone).width(), e(myClone).height()), doresize = !0, e(myClone).remove(), toInject = settings.inline_markup.replace(/{content}/g, e(pp_images[set_position]).html()) } imgPreloader || skipInjection || ($pp_pic_holder.find("#pp_full_res")[0].innerHTML = toInject, s()) }), !1 }, e.prettyPhoto.changePage = function (t) { currentGalleryPage = 0, "previous" == t ? (set_position--, set_position < 0 && (set_position = e(pp_images).size() - 1)) : "next" == t ? (set_position++, set_position > e(pp_images).size() - 1 && (set_position = 0)) : set_position = t, rel_index = set_position, doresize || (doresize = !0), settings.allow_expand && e(".pp_contract").removeClass("pp_contract").addClass("pp_expand"), n(function () { e.prettyPhoto.open() }) }, e.prettyPhoto.changeGalleryPage = function (e) { "next" == e ? (currentGalleryPage++, currentGalleryPage > totalPage && (currentGalleryPage = 0)) : "previous" == e ? (currentGalleryPage--, currentGalleryPage < 0 && (currentGalleryPage = totalPage)) : currentGalleryPage = e, slide_speed = "next" == e || "previous" == e ? settings.animation_speed : 0, slide_to = currentGalleryPage * itemsPerPage * itemWidth, $pp_gallery.find("ul").animate({ left: -slide_to }, slide_speed) }, e.prettyPhoto.startSlideshow = function () { "undefined" == typeof P ? ($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function () { return e.prettyPhoto.stopSlideshow(), !1 }), P = setInterval(e.prettyPhoto.startSlideshow, settings.slideshow)) : e.prettyPhoto.changePage("next") }, e.prettyPhoto.stopSlideshow = function () { $pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function () { return e.prettyPhoto.startSlideshow(), !1 }), clearInterval(P), P = void 0 }, e.prettyPhoto.close = function () { $pp_overlay.is(":animated") || (e.prettyPhoto.stopSlideshow(), $pp_pic_holder.stop().find("object,embed").css("visibility", "hidden"), e("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed, function () { e(this).remove() }), $pp_overlay.fadeOut(settings.animation_speed, function () { settings.hideflash && e("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility", "visible"), e(this).remove(), e(window).unbind("scroll.prettyphoto"), p(), settings.callback(), doresize = !0, v = !1, delete settings })) }, !pp_alreadyInitialized && t() && (pp_alreadyInitialized = !0, hashIndex = t(), hashRel = hashIndex, hashIndex = hashIndex.substring(hashIndex.indexOf("http://theme-sphere.com/") + 1, hashIndex.length - 1), hashRel = hashRel.substring(0, hashRel.indexOf("http://theme-sphere.com/")), setTimeout(function () { e("a[" + a.hook + "^='" + hashRel + "']:eq(" + hashIndex + ")").trigger("click") }, 50)), this.unbind("click.prettyphoto").bind("click.prettyphoto", e.prettyPhoto.initialize) } }(jQuery); var pp_alreadyInitialized = !1;
var addComment = { moveForm: function (a, b, c, d) { var e, f, g, h, i = this, j = i.I(a), k = i.I(c), l = i.I("cancel-comment-reply-link"), m = i.I("comment-parent"), n = i.I("comment-post-id"), o = k.getElementsByTagName("form")[0]; if (j && k && l && m && o) { i.respondId = c, d = d || !1, i.I("wp-temp-form-div") || (e = document.createElement("div"), e.id = "wp-temp-form-div", e.style.display = "none", k.parentNode.insertBefore(e, k)), j.parentNode.insertBefore(k, j.nextSibling), n && d && (n.value = d), m.value = b, l.style.display = "", l.onclick = function () { var a = addComment, b = a.I("wp-temp-form-div"), c = a.I(a.respondId); if (b && c) return a.I("comment-parent").value = "0", b.parentNode.insertBefore(c, b), b.parentNode.removeChild(b), this.style.display = "none", this.onclick = null, !1 }; try { for (var p = 0; p < o.elements.length; p++) if (f = o.elements[p], h = !1, "getComputedStyle" in window ? g = window.getComputedStyle(f) : document.documentElement.currentStyle && (g = f.currentStyle), (f.offsetWidth <= 0 && f.offsetHeight <= 0 || "hidden" === g.visibility) && (h = !0), "hidden" !== f.type && !f.disabled && !h) { f.focus(); break } } catch (q) { } return !1 } }, I: function (a) { return document.getElementById(a) } };
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
!function (e) { "use strict"; "function" == typeof define && define.amd ? define(["jquery"], e) : e("undefined" != typeof jQuery ? jQuery : window.Zepto) }(function (e) { "use strict"; function t(t) { var r = t.data; t.isDefaultPrevented() || (t.preventDefault(), e(t.target).ajaxSubmit(r)) } function r(t) { var r = t.target, a = e(r); if (!a.is("[type=submit],[type=image]")) { var n = a.closest("[type=submit]"); if (0 === n.length) return; r = n[0] } var i = this; if (i.clk = r, "image" == r.type) if (void 0 !== t.offsetX) i.clk_x = t.offsetX, i.clk_y = t.offsetY; else if ("function" == typeof e.fn.offset) { var o = a.offset(); i.clk_x = t.pageX - o.left, i.clk_y = t.pageY - o.top } else i.clk_x = t.pageX - r.offsetLeft, i.clk_y = t.pageY - r.offsetTop; setTimeout(function () { i.clk = i.clk_x = i.clk_y = null }, 100) } function a() { if (e.fn.ajaxSubmit.debug) { var t = "[jquery.form] " + Array.prototype.join.call(arguments, ""); window.console && window.console.log ? window.console.log(t) : window.opera && window.opera.postError && window.opera.postError(t) } } var n = {}; n.fileapi = void 0 !== e("<input type='file'/>").get(0).files, n.formdata = void 0 !== window.FormData; var i = !!e.fn.prop; e.fn.attr2 = function () { if (!i) return this.attr.apply(this, arguments); var e = this.prop.apply(this, arguments); return e && e.jquery || "string" == typeof e ? e : this.attr.apply(this, arguments) }, e.fn.ajaxSubmit = function (t) { function r(r) { var a, n, i = e.param(r, t.traditional).split("&"), o = i.length, s = []; for (a = 0; o > a; a++) i[a] = i[a].replace(/\+/g, " "), n = i[a].split("="), s.push([decodeURIComponent(n[0]), decodeURIComponent(n[1])]); return s } function o(a) { for (var n = new FormData, i = 0; i < a.length; i++) n.append(a[i].name, a[i].value); if (t.extraData) { var o = r(t.extraData); for (i = 0; i < o.length; i++) o[i] && n.append(o[i][0], o[i][1]) } t.data = null; var s = e.extend(!0, {}, e.ajaxSettings, t, { contentType: !1, processData: !1, cache: !1, type: u || "POST" }); t.uploadProgress && (s.xhr = function () { var r = e.ajaxSettings.xhr(); return r.upload && r.upload.addEventListener("progress", function (e) { var r = 0, a = e.loaded || e.position, n = e.total; e.lengthComputable && (r = Math.ceil(a / n * 100)), t.uploadProgress(e, a, n, r) }, !1), r }), s.data = null; var c = s.beforeSend; return s.beforeSend = function (e, r) { r.data = t.formData ? t.formData : n, c && c.call(this, e, r) }, e.ajax(s) } function s(r) { function n(e) { var t = null; try { e.contentWindow && (t = e.contentWindow.document) } catch (r) { a("cannot get iframe.contentWindow document: " + r) } if (t) return t; try { t = e.contentDocument ? e.contentDocument : e.document } catch (r) { a("cannot get iframe.contentDocument: " + r), t = e.document } return t } function o() { function t() { try { var e = n(g).readyState; a("state = " + e), e && "uninitialized" == e.toLowerCase() && setTimeout(t, 50) } catch (r) { a("Server abort: ", r, " (", r.name, ")"), s(k), j && clearTimeout(j), j = void 0 } } var r = f.attr2("target"), i = f.attr2("action"), o = "multipart/form-data", c = f.attr("enctype") || f.attr("encoding") || o; w.setAttribute("target", p), (!u || /post/i.test(u)) && w.setAttribute("method", "POST"), i != m.url && w.setAttribute("action", m.url), m.skipEncodingOverride || u && !/post/i.test(u) || f.attr({ encoding: "multipart/form-data", enctype: "multipart/form-data" }), m.timeout && (j = setTimeout(function () { T = !0, s(D) }, m.timeout)); var l = []; try { if (m.extraData) for (var d in m.extraData) m.extraData.hasOwnProperty(d) && l.push(e.isPlainObject(m.extraData[d]) && m.extraData[d].hasOwnProperty("name") && m.extraData[d].hasOwnProperty("value") ? e('<input type="hidden" name="' + m.extraData[d].name + '">').val(m.extraData[d].value).appendTo(w)[0] : e('<input type="hidden" name="' + d + '">').val(m.extraData[d]).appendTo(w)[0]); m.iframeTarget || v.appendTo("body"), g.attachEvent ? g.attachEvent("onload", s) : g.addEventListener("load", s, !1), setTimeout(t, 15); try { w.submit() } catch (h) { var x = document.createElement("form").submit; x.apply(w) } } finally { w.setAttribute("action", i), w.setAttribute("enctype", c), r ? w.setAttribute("target", r) : f.removeAttr("target"), e(l).remove() } } function s(t) { if (!x.aborted && !F) { if (M = n(g), M || (a("cannot access response document"), t = k), t === D && x) return x.abort("timeout"), void S.reject(x, "timeout"); if (t == k && x) return x.abort("server abort"), void S.reject(x, "error", "server abort"); if (M && M.location.href != m.iframeSrc || T) { g.detachEvent ? g.detachEvent("onload", s) : g.removeEventListener("load", s, !1); var r, i = "success"; try { if (T) throw "timeout"; var o = "xml" == m.dataType || M.XMLDocument || e.isXMLDoc(M); if (a("isXml=" + o), !o && window.opera && (null === M.body || !M.body.innerHTML) && --O) return a("requeing onLoad callback, DOM not available"), void setTimeout(s, 250); var u = M.body ? M.body : M.documentElement; x.responseText = u ? u.innerHTML : null, x.responseXML = M.XMLDocument ? M.XMLDocument : M, o && (m.dataType = "xml"), x.getResponseHeader = function (e) { var t = { "content-type": m.dataType }; return t[e.toLowerCase()] }, u && (x.status = Number(u.getAttribute("status")) || x.status, x.statusText = u.getAttribute("statusText") || x.statusText); var c = (m.dataType || "").toLowerCase(), l = /(json|script|text)/.test(c); if (l || m.textarea) { var f = M.getElementsByTagName("textarea")[0]; if (f) x.responseText = f.value, x.status = Number(f.getAttribute("status")) || x.status, x.statusText = f.getAttribute("statusText") || x.statusText; else if (l) { var p = M.getElementsByTagName("pre")[0], h = M.getElementsByTagName("body")[0]; p ? x.responseText = p.textContent ? p.textContent : p.innerText : h && (x.responseText = h.textContent ? h.textContent : h.innerText) } } else "xml" == c && !x.responseXML && x.responseText && (x.responseXML = X(x.responseText)); try { E = _(x, c, m) } catch (y) { i = "parsererror", x.error = r = y || i } } catch (y) { a("error caught: ", y), i = "error", x.error = r = y || i } x.aborted && (a("upload aborted"), i = null), x.status && (i = x.status >= 200 && x.status < 300 || 304 === x.status ? "success" : "error"), "success" === i ? (m.success && m.success.call(m.context, E, "success", x), S.resolve(x.responseText, "success", x), d && e.event.trigger("ajaxSuccess", [x, m])) : i && (void 0 === r && (r = x.statusText), m.error && m.error.call(m.context, x, i, r), S.reject(x, "error", r), d && e.event.trigger("ajaxError", [x, m, r])), d && e.event.trigger("ajaxComplete", [x, m]), d && !--e.active && e.event.trigger("ajaxStop"), m.complete && m.complete.call(m.context, x, i), F = !0, m.timeout && clearTimeout(j), setTimeout(function () { m.iframeTarget ? v.attr("src", m.iframeSrc) : v.remove(), x.responseXML = null }, 100) } } } var c, l, m, d, p, v, g, x, y, b, T, j, w = f[0], S = e.Deferred(); if (S.abort = function (e) { x.abort(e) }, r) for (l = 0; l < h.length; l++) c = e(h[l]), i ? c.prop("disabled", !1) : c.removeAttr("disabled"); if (m = e.extend(!0, {}, e.ajaxSettings, t), m.context = m.context || m, p = "jqFormIO" + (new Date).getTime(), m.iframeTarget ? (v = e(m.iframeTarget), b = v.attr2("name"), b ? p = b : v.attr2("name", p)) : (v = e('<iframe name="' + p + '" src="' + m.iframeSrc + '" />'), v.css({ position: "absolute", top: "-1000px", left: "-1000px" })), g = v[0], x = { aborted: 0, responseText: null, responseXML: null, status: 0, statusText: "n/a", getAllResponseHeaders: function () { }, getResponseHeader: function () { }, setRequestHeader: function () { }, abort: function (t) { var r = "timeout" === t ? "timeout" : "aborted"; a("aborting upload... " + r), this.aborted = 1; try { g.contentWindow.document.execCommand && g.contentWindow.document.execCommand("Stop") } catch (n) { } v.attr("src", m.iframeSrc), x.error = r, m.error && m.error.call(m.context, x, r, t), d && e.event.trigger("ajaxError", [x, m, r]), m.complete && m.complete.call(m.context, x, r) } }, d = m.global, d && 0 === e.active++ && e.event.trigger("ajaxStart"), d && e.event.trigger("ajaxSend", [x, m]), m.beforeSend && m.beforeSend.call(m.context, x, m) === !1) return m.global && e.active--, S.reject(), S; if (x.aborted) return S.reject(), S; y = w.clk, y && (b = y.name, b && !y.disabled && (m.extraData = m.extraData || {}, m.extraData[b] = y.value, "image" == y.type && (m.extraData[b + ".x"] = w.clk_x, m.extraData[b + ".y"] = w.clk_y))); var D = 1, k = 2, A = e("meta[name=csrf-token]").attr("content"), L = e("meta[name=csrf-param]").attr("content"); L && A && (m.extraData = m.extraData || {}, m.extraData[L] = A), m.forceSync ? o() : setTimeout(o, 10); var E, M, F, O = 50, X = e.parseXML || function (e, t) { return window.ActiveXObject ? (t = new ActiveXObject("Microsoft.XMLDOM"), t.async = "false", t.loadXML(e)) : t = (new DOMParser).parseFromString(e, "text/xml"), t && t.documentElement && "parsererror" != t.documentElement.nodeName ? t : null }, C = e.parseJSON || function (e) { return window.eval("(" + e + ")") }, _ = function (t, r, a) { var n = t.getResponseHeader("content-type") || "", i = "xml" === r || !r && n.indexOf("xml") >= 0, o = i ? t.responseXML : t.responseText; return i && "parsererror" === o.documentElement.nodeName && e.error && e.error("parsererror"), a && a.dataFilter && (o = a.dataFilter(o, r)), "string" == typeof o && ("json" === r || !r && n.indexOf("json") >= 0 ? o = C(o) : ("script" === r || !r && n.indexOf("javascript") >= 0) && e.globalEval(o)), o }; return S } if (!this.length) return a("ajaxSubmit: skipping submit process - no element selected"), this; var u, c, l, f = this; "function" == typeof t ? t = { success: t } : void 0 === t && (t = {}), u = t.type || this.attr2("method"), c = t.url || this.attr2("action"), l = "string" == typeof c ? e.trim(c) : "", l = l || window.location.href || "", l && (l = (l.match(/^([^#]+)/) || [])[1]), t = e.extend(!0, { url: l, success: e.ajaxSettings.success, type: u || e.ajaxSettings.type, iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank" }, t); var m = {}; if (this.trigger("form-pre-serialize", [this, t, m]), m.veto) return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this; if (t.beforeSerialize && t.beforeSerialize(this, t) === !1) return a("ajaxSubmit: submit aborted via beforeSerialize callback"), this; var d = t.traditional; void 0 === d && (d = e.ajaxSettings.traditional); var p, h = [], v = this.formToArray(t.semantic, h); if (t.data && (t.extraData = t.data, p = e.param(t.data, d)), t.beforeSubmit && t.beforeSubmit(v, this, t) === !1) return a("ajaxSubmit: submit aborted via beforeSubmit callback"), this; if (this.trigger("form-submit-validate", [v, this, t, m]), m.veto) return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this; var g = e.param(v, d); p && (g = g ? g + "&" + p : p), "GET" == t.type.toUpperCase() ? (t.url += (t.url.indexOf("?") >= 0 ? "&" : "?") + g, t.data = null) : t.data = g; var x = []; if (t.resetForm && x.push(function () { f.resetForm() }), t.clearForm && x.push(function () { f.clearForm(t.includeHidden) }), !t.dataType && t.target) { var y = t.success || function () { }; x.push(function (r) { var a = t.replaceTarget ? "replaceWith" : "html"; e(t.target)[a](r).each(y, arguments) }) } else t.success && x.push(t.success); if (t.success = function (e, r, a) { for (var n = t.context || this, i = 0, o = x.length; o > i; i++) x[i].apply(n, [e, r, a || f, f]) }, t.error) { var b = t.error; t.error = function (e, r, a) { var n = t.context || this; b.apply(n, [e, r, a, f]) } } if (t.complete) { var T = t.complete; t.complete = function (e, r) { var a = t.context || this; T.apply(a, [e, r, f]) } } var j = e("input[type=file]:enabled", this).filter(function () { return "" !== e(this).val() }), w = j.length > 0, S = "multipart/form-data", D = f.attr("enctype") == S || f.attr("encoding") == S, k = n.fileapi && n.formdata; a("fileAPI :" + k); var A, L = (w || D) && !k; t.iframe !== !1 && (t.iframe || L) ? t.closeKeepAlive ? e.get(t.closeKeepAlive, function () { A = s(v) }) : A = s(v) : A = (w || D) && k ? o(v) : e.ajax(t), f.removeData("jqxhr").data("jqxhr", A); for (var E = 0; E < h.length; E++) h[E] = null; return this.trigger("form-submit-notify", [this, t]), this }, e.fn.ajaxForm = function (n) { if (n = n || {}, n.delegation = n.delegation && e.isFunction(e.fn.on), !n.delegation && 0 === this.length) { var i = { s: this.selector, c: this.context }; return !e.isReady && i.s ? (a("DOM not ready, queuing ajaxForm"), e(function () { e(i.s, i.c).ajaxForm(n) }), this) : (a("terminating; zero elements found by selector" + (e.isReady ? "" : " (DOM not ready)")), this) } return n.delegation ? (e(document).off("submit.form-plugin", this.selector, t).off("click.form-plugin", this.selector, r).on("submit.form-plugin", this.selector, n, t).on("click.form-plugin", this.selector, n, r), this) : this.ajaxFormUnbind().bind("submit.form-plugin", n, t).bind("click.form-plugin", n, r) }, e.fn.ajaxFormUnbind = function () { return this.unbind("submit.form-plugin click.form-plugin") }, e.fn.formToArray = function (t, r) { var a = []; if (0 === this.length) return a; var i, o = this[0], s = this.attr("id"), u = t ? o.getElementsByTagName("*") : o.elements; if (u && !/MSIE [678]/.test(navigator.userAgent) && (u = e(u).get()), s && (i = e(':input[form="' + s + '"]').get(), i.length && (u = (u || []).concat(i))), !u || !u.length) return a; var c, l, f, m, d, p, h; for (c = 0, p = u.length; p > c; c++) if (d = u[c], f = d.name, f && !d.disabled) if (t && o.clk && "image" == d.type) o.clk == d && (a.push({ name: f, value: e(d).val(), type: d.type }), a.push({ name: f + ".x", value: o.clk_x }, { name: f + ".y", value: o.clk_y })); else if (m = e.fieldValue(d, !0), m && m.constructor == Array) for (r && r.push(d), l = 0, h = m.length; h > l; l++) a.push({ name: f, value: m[l] }); else if (n.fileapi && "file" == d.type) { r && r.push(d); var v = d.files; if (v.length) for (l = 0; l < v.length; l++) a.push({ name: f, value: v[l], type: d.type }); else a.push({ name: f, value: "", type: d.type }) } else null !== m && "undefined" != typeof m && (r && r.push(d), a.push({ name: f, value: m, type: d.type, required: d.required })); if (!t && o.clk) { var g = e(o.clk), x = g[0]; f = x.name, f && !x.disabled && "image" == x.type && (a.push({ name: f, value: g.val() }), a.push({ name: f + ".x", value: o.clk_x }, { name: f + ".y", value: o.clk_y })) } return a }, e.fn.formSerialize = function (t) { return e.param(this.formToArray(t)) }, e.fn.fieldSerialize = function (t) { var r = []; return this.each(function () { var a = this.name; if (a) { var n = e.fieldValue(this, t); if (n && n.constructor == Array) for (var i = 0, o = n.length; o > i; i++) r.push({ name: a, value: n[i] }); else null !== n && "undefined" != typeof n && r.push({ name: this.name, value: n }) } }), e.param(r) }, e.fn.fieldValue = function (t) { for (var r = [], a = 0, n = this.length; n > a; a++) { var i = this[a], o = e.fieldValue(i, t); null === o || "undefined" == typeof o || o.constructor == Array && !o.length || (o.constructor == Array ? e.merge(r, o) : r.push(o)) } return r }, e.fieldValue = function (t, r) { var a = t.name, n = t.type, i = t.tagName.toLowerCase(); if (void 0 === r && (r = !0), r && (!a || t.disabled || "reset" == n || "button" == n || ("checkbox" == n || "radio" == n) && !t.checked || ("submit" == n || "image" == n) && t.form && t.form.clk != t || "select" == i && -1 == t.selectedIndex)) return null; if ("select" == i) { var o = t.selectedIndex; if (0 > o) return null; for (var s = [], u = t.options, c = "select-one" == n, l = c ? o + 1 : u.length, f = c ? o : 0; l > f; f++) { var m = u[f]; if (m.selected) { var d = m.value; if (d || (d = m.attributes && m.attributes.value && !m.attributes.value.specified ? m.text : m.value), c) return d; s.push(d) } } return s } return e(t).val() }, e.fn.clearForm = function (t) { return this.each(function () { e("input,select,textarea", this).clearFields(t) }) }, e.fn.clearFields = e.fn.clearInputs = function (t) { var r = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; return this.each(function () { var a = this.type, n = this.tagName.toLowerCase(); r.test(a) || "textarea" == n ? this.value = "" : "checkbox" == a || "radio" == a ? this.checked = !1 : "select" == n ? this.selectedIndex = -1 : "file" == a ? /MSIE/.test(navigator.userAgent) ? e(this).replaceWith(e(this).clone(!0)) : e(this).val("") : t && (t === !0 && /hidden/.test(a) || "string" == typeof t && e(this).is(t)) && (this.value = "") }) }, e.fn.resetForm = function () { return this.each(function () { ("function" == typeof this.reset || "object" == typeof this.reset && !this.reset.nodeType) && this.reset() }) }, e.fn.enable = function (e) { return void 0 === e && (e = !0), this.each(function () { this.disabled = !e }) }, e.fn.selected = function (t) { return void 0 === t && (t = !0), this.each(function () { var r = this.type; if ("checkbox" == r || "radio" == r) this.checked = t; else if ("option" == this.tagName.toLowerCase()) { var a = e(this).parent("select"); t && a[0] && "select-one" == a[0].type && a.find("option").selected(!1), this.selected = t } }) }, e.fn.ajaxSubmit.debug = !1 }); (function ($) {
    'use strict'; if (typeof _wpcf7 == 'undefined' || _wpcf7 === null) { return; }
    _wpcf7 = $.extend({ cached: 0 }, _wpcf7); $.fn.wpcf7InitForm = function () {
        this.ajaxForm({ beforeSubmit: function (arr, $form, options) { $form.wpcf7ClearResponseOutput(); $form.find('[aria-invalid]').attr('aria-invalid', 'false'); $form.find('.ajax-loader').addClass('is-active'); return true; }, beforeSerialize: function ($form, options) { $form.find('[placeholder].placeheld').each(function (i, n) { $(n).val(''); }); return true; }, data: { '_wpcf7_is_ajax_call': 1 }, dataType: 'json', success: $.wpcf7AjaxSuccess, error: function (xhr, status, error, $form) { var e = $('<div class="ajax-error"></div>').text(error.message); $form.after(e); } }); if (_wpcf7.cached) { this.wpcf7OnloadRefill(); }
        this.wpcf7ToggleSubmit(); this.find('.wpcf7-submit').wpcf7AjaxLoader(); this.find('.wpcf7-acceptance').click(function () { $(this).closest('form').wpcf7ToggleSubmit(); }); this.find('.wpcf7-exclusive-checkbox').wpcf7ExclusiveCheckbox(); this.find('.wpcf7-list-item.has-free-text').wpcf7ToggleCheckboxFreetext(); this.find('[placeholder]').wpcf7Placeholder(); if (_wpcf7.jqueryUi && !_wpcf7.supportHtml5.date) { this.find('input.wpcf7-date[type="date"]').each(function () { $(this).datepicker({ dateFormat: 'yy-mm-dd', minDate: new Date($(this).attr('min')), maxDate: new Date($(this).attr('max')) }); }); }
        if (_wpcf7.jqueryUi && !_wpcf7.supportHtml5.number) { this.find('input.wpcf7-number[type="number"]').each(function () { $(this).spinner({ min: $(this).attr('min'), max: $(this).attr('max'), step: $(this).attr('step') }); }); }
        this.find('.wpcf7-character-count').wpcf7CharacterCount(); this.find('.wpcf7-validates-as-url').change(function () { $(this).wpcf7NormalizeUrl(); }); this.find('.wpcf7-recaptcha').wpcf7Recaptcha();
    }; $.wpcf7AjaxSuccess = function (data, status, xhr, $form) {
        if (!$.isPlainObject(data) || $.isEmptyObject(data)) { return; }
        var $responseOutput = $form.find('div.wpcf7-response-output'); $form.wpcf7ClearResponseOutput(); $form.find('.wpcf7-form-control').removeClass('wpcf7-not-valid'); $form.removeClass('invalid spam sent failed'); if (data.captcha) { $form.wpcf7RefillCaptcha(data.captcha); }
        if (data.quiz) { $form.wpcf7RefillQuiz(data.quiz); }
        if (data.invalids) { $.each(data.invalids, function (i, n) { $form.find(n.into).wpcf7NotValidTip(n.message); $form.find(n.into).find('.wpcf7-form-control').addClass('wpcf7-not-valid'); $form.find(n.into).find('[aria-invalid]').attr('aria-invalid', 'true'); }); $responseOutput.addClass('wpcf7-validation-errors'); $form.addClass('invalid'); $(data.into).trigger('wpcf7:invalid'); $(data.into).trigger('invalid.wpcf7'); } else if (1 == data.spam) { $form.find('[name="g-recaptcha-response"]').each(function () { if ('' == $(this).val()) { var $recaptcha = $(this).closest('.wpcf7-form-control-wrap'); $recaptcha.wpcf7NotValidTip(_wpcf7.recaptcha.messages.empty); } }); $responseOutput.addClass('wpcf7-spam-blocked'); $form.addClass('spam'); $(data.into).trigger('wpcf7:spam'); $(data.into).trigger('spam.wpcf7'); } else if (1 == data.mailSent) {
            $responseOutput.addClass('wpcf7-mail-sent-ok'); $form.addClass('sent'); if (data.onSentOk) { $.each(data.onSentOk, function (i, n) { eval(n) }); }
            $(data.into).trigger('wpcf7:mailsent'); $(data.into).trigger('mailsent.wpcf7');
        } else { $responseOutput.addClass('wpcf7-mail-sent-ng'); $form.addClass('failed'); $(data.into).trigger('wpcf7:mailfailed'); $(data.into).trigger('mailfailed.wpcf7'); }
        if (data.onSubmit) { $.each(data.onSubmit, function (i, n) { eval(n) }); }
        $(data.into).trigger('wpcf7:submit'); $(data.into).trigger('submit.wpcf7'); if (1 == data.mailSent) { $form.resetForm(); }
        $form.find('[placeholder].placeheld').each(function (i, n) { $(n).val($(n).attr('placeholder')); }); $responseOutput.append(data.message).slideDown('fast'); $responseOutput.attr('role', 'alert'); $.wpcf7UpdateScreenReaderResponse($form, data);
    }; $.fn.wpcf7ExclusiveCheckbox = function () { return this.find('input:checkbox').click(function () { var name = $(this).attr('name'); $(this).closest('form').find('input:checkbox[name="' + name + '"]').not(this).prop('checked', false); }); }; $.fn.wpcf7Placeholder = function () {
        if (_wpcf7.supportHtml5.placeholder) { return this; }
        return this.each(function () {
            $(this).val($(this).attr('placeholder')); $(this).addClass('placeheld'); $(this).focus(function () {
                if ($(this).hasClass('placeheld'))
                    $(this).val('').removeClass('placeheld');
            }); $(this).blur(function () { if ('' == $(this).val()) { $(this).val($(this).attr('placeholder')); $(this).addClass('placeheld'); } });
        });
    }; $.fn.wpcf7AjaxLoader = function () { return this.each(function () { $(this).after('<span class="ajax-loader"></span>'); }); }; $.fn.wpcf7ToggleSubmit = function () {
        return this.each(function () {
            var form = $(this); if (this.tagName.toLowerCase() != 'form') { form = $(this).find('form').first(); }
            if (form.hasClass('wpcf7-acceptance-as-validation')) { return; }
            var submit = form.find('input:submit'); if (!submit.length) return; var acceptances = form.find('input:checkbox.wpcf7-acceptance'); if (!acceptances.length) return; submit.removeAttr('disabled'); acceptances.each(function (i, n) { n = $(n); if (n.hasClass('wpcf7-invert') && n.is(':checked') || !n.hasClass('wpcf7-invert') && !n.is(':checked')) { submit.attr('disabled', 'disabled'); } });
        });
    }; $.fn.wpcf7ToggleCheckboxFreetext = function () {
        return this.each(function () {
            var $wrap = $(this).closest('.wpcf7-form-control'); if ($(this).find(':checkbox, :radio').is(':checked')) { $(this).find(':input.wpcf7-free-text').prop('disabled', false); } else { $(this).find(':input.wpcf7-free-text').prop('disabled', true); }
            $wrap.find(':checkbox, :radio').change(function () { var $cb = $('.has-free-text', $wrap).find(':checkbox, :radio'); var $freetext = $(':input.wpcf7-free-text', $wrap); if ($cb.is(':checked')) { $freetext.prop('disabled', false).focus(); } else { $freetext.prop('disabled', true); } });
        });
    }; $.fn.wpcf7CharacterCount = function () {
        return this.each(function () {
            var $count = $(this); var name = $count.attr('data-target-name'); var down = $count.hasClass('down'); var starting = parseInt($count.attr('data-starting-value'), 10); var maximum = parseInt($count.attr('data-maximum-value'), 10); var minimum = parseInt($count.attr('data-minimum-value'), 10); var updateCount = function ($target) {
                var length = $target.val().length; var count = down ? starting - length : length; $count.attr('data-current-value', count); $count.text(count); if (maximum && maximum < length) { $count.addClass('too-long'); } else { $count.removeClass('too-long'); }
                if (minimum && length < minimum) { $count.addClass('too-short'); } else { $count.removeClass('too-short'); }
            }; $count.closest('form').find(':input[name="' + name + '"]').each(function () { updateCount($(this)); $(this).keyup(function () { updateCount($(this)); }); });
        });
    }; $.fn.wpcf7NormalizeUrl = function () {
        return this.each(function () {
            var val = $.trim($(this).val()); if (val && !val.match(/^[a-z][a-z0-9.+-]*:/i)) { val = val.replace(/^\/+/, ''); val = 'http://' + val; }
            $(this).val(val);
        });
    }; $.fn.wpcf7NotValidTip = function (message) { return this.each(function () { var $into = $(this); $into.find('span.wpcf7-not-valid-tip').remove(); $into.append('<span role="alert" class="wpcf7-not-valid-tip">' + message + '</span>'); if ($into.is('.use-floating-validation-tip *')) { $('.wpcf7-not-valid-tip', $into).mouseover(function () { $(this).wpcf7FadeOut(); }); $(':input', $into).focus(function () { $('.wpcf7-not-valid-tip', $into).not(':hidden').wpcf7FadeOut(); }); } }); }; $.fn.wpcf7FadeOut = function () { return this.each(function () { $(this).animate({ opacity: 0 }, 'fast', function () { $(this).css({ 'z-index': -100 }); }); }); }; $.fn.wpcf7OnloadRefill = function () {
        return this.each(function () {
            var url = $(this).attr('action'); if (0 < url.indexOf('#')) { url = url.substr(0, url.indexOf('#')); }
            var id = $(this).find('input[name="_wpcf7"]').val(); var unitTag = $(this).find('input[name="_wpcf7_unit_tag"]').val(); $.getJSON(url, { _wpcf7_is_ajax_call: 1, _wpcf7: id, _wpcf7_request_ver: $.now() }, function (data) {
                if (data && data.captcha) { $('#' + unitTag).wpcf7RefillCaptcha(data.captcha); }
                if (data && data.quiz) { $('#' + unitTag).wpcf7RefillQuiz(data.quiz); }
            });
        });
    }; $.fn.wpcf7RefillCaptcha = function (captcha) { return this.each(function () { var form = $(this); $.each(captcha, function (i, n) { form.find(':input[name="' + i + '"]').clearFields(); form.find('img.wpcf7-captcha-' + i).attr('src', n); var match = /([0-9]+)\.(png|gif|jpeg)$/.exec(n); form.find('input:hidden[name="_wpcf7_captcha_challenge_' + i + '"]').attr('value', match[1]); }); }); }; $.fn.wpcf7RefillQuiz = function (quiz) { return this.each(function () { var form = $(this); $.each(quiz, function (i, n) { form.find(':input[name="' + i + '"]').clearFields(); form.find(':input[name="' + i + '"]').siblings('span.wpcf7-quiz-label').text(n[0]); form.find('input:hidden[name="_wpcf7_quiz_answer_' + i + '"]').attr('value', n[1]); }); }); }; $.fn.wpcf7ClearResponseOutput = function () { return this.each(function () { $(this).find('div.wpcf7-response-output').hide().empty().removeClass('wpcf7-mail-sent-ok wpcf7-mail-sent-ng wpcf7-validation-errors wpcf7-spam-blocked').removeAttr('role'); $(this).find('span.wpcf7-not-valid-tip').remove(); $(this).find('.ajax-loader').removeClass('is-active'); }); }; $.fn.wpcf7Recaptcha = function () { return this.each(function () { var events = 'wpcf7:spam wpcf7:mailsent wpcf7:mailfailed'; $(this).closest('div.wpcf7').on(events, function (e) { if (recaptchaWidgets && grecaptcha) { $.each(recaptchaWidgets, function (index, value) { grecaptcha.reset(value); }); } }); }); }; $.wpcf7UpdateScreenReaderResponse = function ($form, data) {
        $('.wpcf7 .screen-reader-response').html('').attr('role', ''); if (data.message) {
            var $response = $form.siblings('.screen-reader-response').first(); $response.append(data.message); if (data.invalids) {
                var $invalids = $('<ul></ul>'); $.each(data.invalids, function (i, n) {
                    if (n.idref) { var $li = $('<li></li>').append($('<a></a>').attr('href', '#' + n.idref).append(n.message)); } else { var $li = $('<li></li>').append(n.message); }
                    $invalids.append($li);
                }); $response.append($invalids);
            }
            $response.attr('role', 'alert').focus();
        }
    }; $.wpcf7SupportHtml5 = function () { var features = {}; var input = document.createElement('input'); features.placeholder = 'placeholder' in input; var inputTypes = ['email', 'url', 'tel', 'number', 'range', 'date']; $.each(inputTypes, function (index, value) { input.setAttribute('type', value); features[value] = input.type !== 'text'; }); return features; }; $(function () { _wpcf7.supportHtml5 = $.wpcf7SupportHtml5(); $('div.wpcf7 > form').wpcf7InitForm(); });
})(jQuery); var Bunyad_Theme = (function ($) {
    "use strict"; var hasTouch = false, responsive_menu = false, mobile_head_init = false; return {
        init: function () {
            var grid = $('.posts-grid').data('grid-count'); if (parseInt(grid) > 0) { $('.posts-grid .column:nth-child(' + grid + 'n)').addClass('last'); }
            $('.featured-vid, .post-content').fitVids(); $('.rate-number').each(function () { var raw = $(this).find('span:not(.progress)').html(), progress = parseFloat(raw); $(this).find('.progress').css('width', (raw.search('%') === -1 ? (Math.round(progress / 10 * 100)) + '%' : progress)); }); $('.main img, .main-footer img').addClass('no-display'); $('.bunyad-img-effects-css').remove(); $('.lower-foot .social-icons a, .share-links a').tooltip({ placement: 'top' }); var term_processing; $('.section-head .subcats a, .block-head .filters a').click(function () {
                if ($(this).hasClass('active')) { return false; }
                var active = $(this).parents('.subcats').find('a.active'), parent = $(this).closest('section'), block_id = parent.data('id'), term_id = $(this).data('id'), content = parent.find('.block-content'); content.find('> div:first-child').attr('data-id', 0); if (!content.find('[data-id=' + term_id + ']').length) {
                    if (typeof bunyad_preload == 'undefined' || !bunyad_preload[block_id]) { return false; }
                    var block = $(bunyad_preload[block_id][term_id]).find('.block-content'); block.find(' > div').hide().attr('data-id', term_id); block.find('img').addClass('no-display appear'); content.append(block.html());
                }
                var block_ref = content.find('[data-id=' + term_id + ']'); term_processing = null; if (!block_ref.hasClass('ready')) {
                    content.addClass('loading'); term_processing = term_id; var process = function () {
                        if (term_processing !== term_id) { return; }
                        content.find('> div').hide(); block_ref.addClass('ready').fadeIn(500); content.removeClass('loading');
                    }; if (block_ref.find('img').length) { block_ref.waitForImages(true).always(process); }
                    else { process(); }
                }
                else { content.find('> div').hide(); block_ref.fadeIn(500); }
                $(this).addClass('active'); active.removeClass('active'); return false;
            }); $('.modal').on('shown.bs.modal', function () { $(this).css({ 'margin-top': function () { return -($(this).height() / 2); } }); }); $(document).on('click', '.user-login', function () { $('.login-modal .modal-content').hide(); $('.login-modal .main-screen').show(); $('#login-modal').modal('show'); return false; }); var change_modal = function (name) {
                if (!$('.login-modal').is(':visible')) { $('#login-modal').modal('show'); }
                $('.login-modal .modal-content').hide(); $('.login-modal ' + name).show(); return false;
            }; $('a.register-modal').click(function () { return change_modal('.register-now'); }); $('a.lost-pass-modal').click(function () { return change_modal('.lost-pass'); }); this.sliders(); this.shortcodes(); this.mobile_header(); this.responsive_nav(); this.touch_nav(); this.news_ticker(); this.lightbox(); this.sticky_nav(); this.sticky_sidebar(); this.user_ratings(); this.infinite_scroll(); $('.main img, .main-footer img, .main-featured .row').one('inview', function () { $(this).addClass('appear'); }); $('.review-box ul li .bar').each(function () { $(this).data('width', $(this)[0].style.width).css('width', 0); }); $('.review-box ul li').one('inview', function () { var bar = $(this).find('.bar'); bar.addClass('appear').css('width', bar.data('width')); }); $('.post-share-b .show-more').on('click', function () { $(this).parent().addClass('all'); return false; })
            $('.search-overlay .search-icon').on('click', function () { $(this).parent().toggleClass('active'); return false; }); $(document).on('click', function (e) { if (!$(e.target).is('.search-overlay') && !$(e.target).parents('.search-overlay').length) { $('.search-overlay').removeClass('active'); } }); $('.navigation i.only-icon').each(function () { var el = $(this).closest('li'); if (!el.hasClass('only-icon')) { el.addClass('only-icon'); var nav = $('.navigation .menu ul').css('-webkit-box-sizing', 'border-box'); requestAnimationFrame(function () { nav.css('-webkit-box-sizing', ''); }); } }); if ($.browser.msie && 8 == parseInt($.browser.version)) {
                $('.main img, .main-footer img').addClass('no-display'); $('.main img, .main-footer img, .main-featured .row').unbind('inview'); $(function () { var $ss = $('#smartmag-font-awesome-css'); $ss[0].href = $ss[0].href; }); $('.flickr-widget .flickr_badge_image:nth-of-type(4n)').css('margin-right', 0); var bg = $('body').css('background-attachment'), bg_url = $('body').css('background-image').replace(/^url\((['"]?)(.*)\1\)$/, '$2'); if (bg == 'fixed' && bg_url) {
                    $('body').append('<style type="text/css">.bg-overlay { filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'' + bg_url + '\', sizingMethod=\'scale\'); \
      -ms-filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\''+ bg_url + '\', sizingMethod=\'scale\')"; }</style>'); $('<div class="bg-overlay"></div>').appendTo('body');
                }
                $('.listing > .column:nth-child(odd)').css('clear', 'both');
            }
            $('input, textarea').placeholder(); if ($(window).width() < 1128) { var bg = $('body').css('background-attachment'), bg_image = $('body').css('background-image'); if (bg == 'fixed' && bg_image) { $('body').css('background-image', 'none').append($('<div class="background-cover">' + '</div>').css('background-image', bg_image)); } }
            $('.woocommerce-ordering .drop li a').click(function (e) { var form = $(this).closest('form'); form.find('[name=orderby]').val($(this).parent().data('value')); form.submit(); e.preventDefault(); }); $('body').on('added_to_cart', function () { $('.menu .widget_shopping_cart').css('opacity', ''); }); if ($('.menu .cart_list .empty').length) { $('.menu .cart_list').remove(); }
            if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1 && window.devicePixelRatio > 1.5) { var firefox_retina = function (sel) { var images = $(sel); if (images.length) { images.each(function () { var image = $(this); $('<img />').on('load', function () { if (image.prop('currentSrc') !== image.prop('src')) { image.css('width', $(this)[0].naturalWidth).css('height', $(this)[0].naturalHeight); } }).attr('src', image.attr('src')); }); } }; firefox_retina('.logo-image, .highlights .thumb img, .posts-list img'); $('.section-head .subcats a, .block-head .filters a').on('click', function () { firefox_retina($(this).parents('.block-wrap').find('img')); }); }
            if (navigator.userAgent.match(/android/i)) { $('body').addClass('android'); }
        }, news_ticker: function () {
            $('.trending-ticker ul').each(function () {
                if (!$(this).find('li.active').length) { $(this).find('li:first').addClass('active'); }
                var ticker = $(this); window.setInterval(function () {
                    var active = ticker.find('li.active'); active.fadeOut(function () {
                        var next = active.next(); if (!next.length) { next = ticker.find('li:first'); }
                        next.addClass('active').fadeIn(); active.removeClass('active');
                    });
                }, 8000);
            });
        }, mobile_header: function () { var that = this; $(window).on('resize orientationchange', function f() { that.init_mobile_header(); return f; }()); }, init_mobile_header: function () {
            if (mobile_head_init || $(window).width() > 799 || !$('body').hasClass('has-mobile-head')) { return; }
            var search = $('.top-bar .search'); search = (search.length ? search : $('.nav-search .search')); if (search.length) { $('.mobile-head .search-overlay').append(search.clone()); }
            mobile_head_init = true;
        }, responsive_nav: function () { $(window).on('touchstart', function () { hasTouch = true; $('body').addClass('touch'); }); this.init_responsive_nav(); var that = this; $(window).on('resize orientationchange', function () { that.init_responsive_nav(); }); }, init_responsive_nav: function () {
            if ($(window).width() > 799 || responsive_menu) { return; }
            responsive_menu = true; var off_canvas = ($('.navigation .mobile').data('type') == 'off-canvas'), mobile_search = false, menu; if (!$('.navigation .mobile-menu').length) { var menu = $('.navigation div[class$="-container"]').clone().addClass('mobile-menu-container'); menu.find('div.mega-menu .sub-cats').each(function () { var container = $(this).closest('.menu-item'); container.append($(this).find('.sub-nav')); container.find('.sub-nav').replaceWith(function () { return $('<ul />', { html: $(this).html() }); }); }); menu.find('.menu').addClass('mobile-menu'); menu.appendTo(($('.navigation > .wrap').length ? '.navigation > .wrap' : '.navigation')); }
            else { menu = $('.navigation .mobile-menu-container'); }
            if (off_canvas) { menu.addClass('off-canvas'); menu.find('.menu').prepend($('<li class="close"><a href="#"><span>' + $('.navigation .selected .text').text() + '</span> <i class="fa fa-times"></i></a></li>')); $('body').addClass('nav-off-canvas'); }
            if ($('.navigation .mobile').data('search')) { mobile_search = true; }
            $('.navigation .mobile .selected').click(function (e) {
                if ($(e.target).hasClass('hamburger') || !mobile_search || !$(this).find('.search .query').is(':visible')) {
                    if (off_canvas) { $('.navigation .mobile-menu').addClass('active'); $('body').toggleClass('off-canvas-active'); }
                    else { $('.navigation .mobile-menu').toggleClass('active'); }
                    return false;
                }
            }); $('.mobile-head .menu-icon a').on('click', function () { $('body').toggleClass('off-canvas-active'); }); var logo_mobile = $('.mobile-head').length ? $('.mobile-head .logo-mobile') : $('.logo-mobile'); if (logo_mobile.length) { $('<img />').on('load', function () { logo_mobile.prop('width', $(this)[0].naturalWidth / 2).prop('height', $(this)[0].naturalHeight / 2); }).prop('src', logo_mobile.prop('src')); }
            $(window).on('resize orientationchange', function () { var logo = $('.logo-image'); if (logo.prop('width') == 0) { logo.prop('width', logo[0].naturalWidth / 2).prop('height', logo[0].naturalHeight / 2); } }); $('.off-canvas .close').click(function () { $('body').toggleClass('off-canvas-active'); }); if (mobile_search) { var search = $('.top-bar .search'); search = (search.length ? search : $('.nav-search .search')); if (search.length) { $('.navigation .mobile .selected').append(search[0].outerHTML); $('.mobile .search .search-button').click(function () { if (!$('.mobile .search .query').is(':visible')) { $('.navigation .mobile .selected .current, .navigation .mobile .selected .text').toggle(); $('.mobile .search').toggleClass('active'); return false; } }); } }
            $('.navigation .mobile-menu li > a').each(function () { if ($(this).parent().children('ul').length) { $('<a href="#" class="chevron"><i class="fa fa-angle-down"></i></a>').appendTo($(this)); } }); $('.navigation .mobile-menu li .chevron').click(function () { $(this).closest('li').find('ul').first().toggle().parent().toggleClass('active item-active'); return false; }); var last = $('.mobile-menu .current-menu-item').last().find('> a'); if (last.length) {
                var selected = $('.navigation .mobile .selected'), current = selected.find('.current'), cur_text = selected.find('.text').text(); if (cur_text.slice(-1) !== ':') { selected.find('.text').text(cur_text + ':'); }
                current.text(last.text());
            }
        }, touch_nav: function () {
            var targets = $('.menu:not(.mobile-menu) a'), open_class = 'item-active', child_tag = 'ul, .mega-menu'; targets.each(function () {
                var $this = $(this), $parent = $this.parent('li'), $siblings = $parent.siblings().find('a'); $this.click(function (e) {
                    if (!hasTouch) { return; }
                    var $this = $(this); e.stopPropagation(); $siblings.parent('li').removeClass(open_class); if (!$this.parent().hasClass(open_class) && $this.next(child_tag).length > 0 && !$this.parents('.mega-menu.links').length) { e.preventDefault(); $this.parent().addClass(open_class); }
                });
            }); $(document).click(function (e) { if (!$(e.target).is('.menu') && !$(e.target).parents('.menu').length) { targets.parent('li').removeClass(open_class); } });
        }, sticky_nav: function () {
            var nav = $('.navigation-wrap'), nav_top = nav.offset().top, smart = (nav.data('sticky-type') == 'smart'), is_sticky = false, prev_scroll = 0, cur_scroll; if (!nav.data('sticky-nav')) { return; }
            if (nav.find('.sticky-logo').length) { nav.addClass('has-logo'); }
            var set_size = function () { $('.main-nav').css('min-height', nav.height()); }; $(window).on('load resize', set_size); var remove_sticky = function () { if (is_sticky) { nav.removeClass('sticky-nav'); set_size(); } }; var sticky = function () {
                if (!nav.data('sticky-nav') || $(window).width() < 800) { return; }
                cur_scroll = $(window).scrollTop(); is_sticky = nav.hasClass('sticky-nav'); if ($(window).scrollTop() > nav_top) {
                    if (smart && (!prev_scroll || cur_scroll > prev_scroll)) { remove_sticky(); }
                    else { if (!nav.hasClass('sticky-nav')) { nav.addClass('sticky-nav no-transition'); setTimeout(function () { nav.removeClass('no-transition'); }, 100); } }
                    prev_scroll = cur_scroll;
                } else { remove_sticky(); }
            }; sticky(); $(window).scroll(function () { sticky(); });
        }, sticky_sidebar: function () {
            var sticky = $('.sidebar').data('sticky'); if (!sticky) { return; }
            $('.main .sidebar').theiaStickySidebar({ minWidth: 800, updateSidebarHeight: false });
        }, sliders: function () {
            if (!$.fn.flexslider) { return; }
            var is_rtl = ($('html').attr('dir') == 'rtl' ? true : false); var slider = $('.main-featured .slider'); $('.main-featured .flexslider').flexslider({ controlNav: true, animationSpeed: slider.data('animation-speed'), animation: slider.data('animation'), slideshowSpeed: slider.data('slide-delay'), manualControls: '.main-featured .flexslider .pages a', pauseOnHover: true, start: function () { $('.main-featured .slider').css('opacity', 1); }, rtl: is_rtl }); var pages = $('.main-featured .pages'), number = parseInt(pages.data('number')); if (number && number != 5) { var width = (100 - ((number + 1) * 0.284900285)) / number; pages.find('a').css('width', width + '%'); }
            $('.carousel').flexslider({ animation: 'slide', animationLoop: false, itemWidth: 214, itemMargin: 30, minItems: 3, maxItems: 4, controlNav: false, slideshow: false, rtl: is_rtl }); $('.gallery-block .flexslider').flexslider({ controlNav: false, pauseOnHover: true, rtl: is_rtl }); $('.gallery-slider .flexslider').flexslider({ controlNav: false, pauseOnHover: true, rtl: is_rtl }); $('.post-cover .gallery-slider li, .post-cover .featured').each(function () { var img = $(this).find('img'); $(this).css('background-image', 'url("' + img.attr('src') + '")'); img.addClass('hidden'); }); var slideshow_cache = {}, slideshow_wrap = '.post-slideshow .post-pagination-next'; if ($(slideshow_wrap).length && $(slideshow_wrap).data('type') == 'ajax') {
                var processing; $('.main-content').on('click', '.post-slideshow .post-pagination-next .links a', function () {
                    if ($('body').hasClass('page')) { return; }
                    var scroll; if ($(this).parents('.bottom').length) { scroll = true; }
                    if (processing && processing.hasOwnProperty('abort')) { processing.abort(); }
                    var parent = $(this).closest('.post-slideshow'), url = $(this).attr('href'); parent.find('.content-page').removeClass('active').addClass('hidden previous'); var show_slide = function (data) {
                        if (history.pushState) { history.pushState({}, '', url); }
                        var page = $(data).find('.post-slideshow'); if (page.length) {
                            parent.find('.post-pagination-next').html(page.find('.post-pagination-next').html()); parent.find('.content-page').after(page.find('.content-page').addClass('hidden loading')); setTimeout(function () {
                                if (scroll) { $('html, body').animate({ scrollTop: parent.offset().top - 50 }, 200); }
                                parent.find('.content-page.previous').remove(); parent.find('.content-page.loading').removeClass('previous hidden loading').find('img').addClass('appear');
                            }, 1);
                        }
                        processing = null;
                    }; if (slideshow_cache[url]) { show_slide(slideshow_cache[url]); }
                    else { processing = $.get(url, function (data) { slideshow_cache[url] = data; show_slide(data); }); }
                    return false;
                }); $(document).on('keyup', function (e) {
                    if (e.which == 37) { $(slideshow_wrap).find('.prev').parent().click(); }
                    else if (e.which == 39) { $(slideshow_wrap).find('.next').parent().click(); }
                });
            }
            var images = $('.featured-grid-b .image-link img'); if (images.length) { objectFitImages(null, { watchMQ: true }); }
        }, shortcodes: function () {
            $('.tabs-list a').click(function () {
                var tab = $(this).data('tab'), tabs_data = $(this).closest('.tabs-list').siblings('.tabs-data'), parent = $(this).parent().parent(), active = parent.find('.active'); if (!active.length) { active = parent.find('li:first-child'); }
                active.removeClass('active').addClass('inactive'); $(this).parent().addClass('active').removeClass('inactive'); var active_data = tabs_data.find('.tab-posts.active'); if (!active_data.length) { active_data = tabs_data.find('.tab-posts:first-child'); }
                active_data.hide(); tabs_data.find('#recent-tab-' + tab).fadeIn().addClass('active').removeClass('inactive'); return false;
            }); $('.sc-tabs a').click(function () { var tabs = $(this).parents('ul'); tabs.find('.active').removeClass('active'); $(this).parent().addClass('active'); var panes = tabs.siblings('.sc-tabs-panes'); panes.find('.active').hide().removeClass('active'); panes.find('#sc-pane-' + $(this).data('id')).addClass('active').fadeIn(); return false; }); $('.sc-accordion-title > a').click(function () {
                var container = $(this).parents('.sc-accordions'); container.find('.sc-accordion-title').removeClass('active'); container.find('.sc-accordion-pane').slideUp().removeClass('active'); var pane = $(this).parent().next(); if (!pane.is(':visible')) { $(this).parent().addClass('active'); pane.slideDown().addClass('active'); }
                return false;
            }); $('.sc-toggle-title > a').click(function () { $(this).parent().toggleClass('active'); $(this).parent().next().slideToggle().toggleClass('active'); return false; });
        }, user_ratings: function () {
            var compute_percent = function (e) {
                var offset = $(this).offset(), position, percent; if ($('html').attr('dir') == 'rtl') { offset.left = offset.left + $(this).outerWidth(); }
                position = Math.abs(e.pageX - Math.max(0, offset.left)); percent = Math.min(100, Math.round(position / $(this).width() * 100)); return percent;
            }; var is_points = true, scale = parseInt($('.review-box .value-title').text()) || 10; if ($('.review-box .overall .percent').length) { is_points = false; }
            $('.user-ratings .main-stars, .user-ratings .rating-bar').on('mousemove mouseenter mouseleave', function (e) {
                var bar = $(this).find('span'), user_ratings = $(this).closest('.user-ratings'); bar.css('transition', 'none'); if (user_ratings.hasClass('voted')) { return; }
                if (e.type == 'mouseleave') { bar.css('width', bar.data('orig-width')); user_ratings.find('.hover-number').hide(); user_ratings.find('.rating').show(); return; }
                var percent = compute_percent.call(this, e); if (!bar.data('orig-width')) { bar.data('orig-width', bar[0].style.width); }
                bar.css('width', percent + '%'); user_ratings.find('.rating').hide(); user_ratings.find('.hover-number').show().text((is_points ? +parseFloat(percent / 100 * scale).toFixed(1) : percent + '%'));
            }); $('.user-ratings .main-stars, .user-ratings .rating-bar').on('click', function (e) {
                var bar = $(this).find('span'), user_ratings = $(this).closest('.user-ratings'); if (user_ratings.hasClass('voted')) { return; }
                var post_data = { 'action': 'bunyad_rate', 'id': user_ratings.data('post-id'), 'rating': compute_percent.call(this, e) }; var votes = user_ratings.find('.number'), cur_votes = parseInt(votes.text()) || 0; user_ratings.css('opacity', '0.3'); bar.data('orig-width', bar[0].style.width); votes.text((cur_votes + 1).toString()); $(this).trigger('mouseleave'); user_ratings.addClass('voted'); $.post(Bunyad.ajaxurl, post_data, function (data) {
                    if (data === Object(data)) { var cur_rating = user_ratings.find('.rating').text(); user_ratings.find('.rating').text(cur_rating.search('%') !== -1 ? data.percent + ' %' : data.decimal); bar.css('width', data.percent + '%'); bar.data('orig-width', data.percent); }
                    user_ratings.hide().css('opacity', 1).fadeIn('slow');
                }, 'json');
            });
        }, infinite_scroll: function () {
            if (!$.fn.infinitescroll) { return; }
            $('.listing-classic, .listing, .listing-alt, .list-timeline').filter(function () { if ($(this).data('infinite')) { return true; } }).each(function () {
                var that = this, data_sel = '[data-infinite="' + $(this).data('infinite') + '"]', timeline = false, instance, opts; var options = { loading: { finishedMsg: '', msg: $('<div class="ajax-loading"><div class="spinner"><span></span><span></span><span></span></div>') }, navSelector: '.main-pagination', nextSelector: '.main-pagination .next', itemSelector: data_sel + ' > .column,' + data_sel + ' > .post,' + data_sel + ' > .post,' + data_sel + ' > .month' }; if ($(this).hasClass('list-timeline')) { timeline = true; options.appendCallback = false; }
                var callback = function (data) {
                    if (timeline == true) {
                        $(data).each(function () {
                            var month = $(this).data('month'), existing = $(data_sel + ' .month[data-month="' + month + '"] .posts'); if (existing.length) { existing.append($(this).find('.posts article')); }
                            else { $(data_sel).append($(this)); }
                        });
                    }
                    $(that).find('img').addClass('no-display').one('inview', function () { $(this).addClass('appear'); }); $(window).trigger('checkInView.inview'); $(window).trigger('resize');
                }; instance = new $.infinitescroll(options, callback, this); opts = instance.options; opts.loading.start = function () { $(opts.loading.msg).insertAfter(that).show(); instance.beginAjax(opts); $(window).trigger('resize'); }; opts.errorCallback = function () { $(opts.loading.msg).hide(); $(window).trigger('resize'); }; if (!opts.state.isInvalidPage) { $(this).parent().find('.main-pagination').hide(); }
            });
        }, lightbox: function () {
            if (!$.fn.prettyPhoto || $(window).width() < 700) { return; }
            var filter_images = function () {
                if (!$(this).attr('href')) { return false; }
                return $(this).attr('href').match(/\.(jpe?g|png|bmp|gif)$/);
            }; (function () { var gal_id = 1; $('.post-content a, .main .featured a').has('img').filter(filter_images).attr('rel', 'prettyPhoto'); $('.gallery-slider, .post-content .gallery, .post-content .tiled-gallery').each(function () { gal_id++; $(this).find('a').has('img').filter(filter_images).attr('rel', 'prettyPhoto[gal_' + gal_id + ']'); }); $("a[rel^='prettyPhoto']").prettyPhoto({ social_tools: false }); })(); $('a[data-rel^="prettyPhoto"], a.zoom').prettyPhoto({ hook: 'data-rel', social_tools: false });
        }
    };
})(jQuery); jQuery(function ($) { Bunyad_Theme.init(); }); var Bunyad_Live_Search = (function ($) {
    "use strict"; var cache = {}, timer, element; return {
        init: function () {
            var self = this, search = $('.live-search-query'); if (!search.length) { return; }
            $('.live-search-query').attr('autocomplete', 'off'); $('.live-search-query').on('keyup', function () {
                element = $(this).parent(); var query = $(this).val(), result; clearTimeout(timer); if (query.length < 1) { self.add_result(''); return; }
                timer = setTimeout(function () { self.process(query); }, 250);
            }); $(document).on('click', function (e) { var results = $('.live-search-results'); if (results.is(':visible') && !$(e.target).closest('.search').length) { results.removeClass('fade-in'); } });
        }, process: function (query) {
            var self = this; if (query in cache) { self.add_result(cache[query]); }
            else { $.get(Bunyad.ajaxurl, { action: 'bunyad_live_search', 'query': query }, function (data) { cache[query] = data; self.add_result(data); }); }
        }, add_result: function (result) {
            if (!element.find('.live-search-results').length) { element.append($('<div class="live-search-results"></div>')); }
            var container = element.find('.live-search-results'); if (!result) { container.removeClass('fade-in'); return; }
            container.html(result); requestAnimationFrame(function () { container.addClass('fade-in'); });
        }
    };
})(jQuery); jQuery(function () { Bunyad_Live_Search.init(); }); (function (b) { function t() { var e, a = { height: k.innerHeight, width: k.innerWidth }; a.height || !(e = l.compatMode) && b.support.boxModel || (e = "CSS1Compat" === e ? f : l.body, a = { height: e.clientHeight, width: e.clientWidth }); return a } function u() { var e = b(), g, q = 0; b.each(m, function (a, b) { var c = b.data.selector, d = b.$element; e = e.add(c ? d.find(c) : d) }); if (g = e.length) for (d = d || t(), a = a || { top: k.pageYOffset || f.scrollTop || l.body.scrollTop, left: k.pageXOffset || f.scrollLeft || l.body.scrollLeft }; q < g; q++) if (b.contains(f, e[q])) { var h = b(e[q]), n = h.height(), p = h.width(), c = h.offset(), r = h.data("inview"); if (!a || !d) break; c.top + n > a.top && c.top < a.top + d.height && c.left + p > a.left && c.left < a.left + d.width ? (p = a.left > c.left ? "right" : a.left + d.width < c.left + p ? "left" : "both", n = a.top > c.top ? "bottom" : a.top + d.height < c.top + n ? "top" : "both", c = p + "-" + n, r && r === c || h.data("inview", c).trigger("inview", [!0, p, n])) : r && h.data("inview", !1).trigger("inview", [!1]) } } var m = {}, d, a, l = document, k = window, f = l.documentElement, s = b.expando, g; b.event.special.inview = { add: function (a) { m[a.guid + "-" + this[s]] = { data: a, $element: b(this) }; g || b.isEmptyObject(m) || (g = setInterval(u, 250)) }, remove: function (a) { try { delete m[a.guid + "-" + this[s]] } catch (d) { } b.isEmptyObject(m) && (clearInterval(g), g = null) } }; b(k).bind("scroll resize", function () { d = a = null }); !f.addEventListener && f.attachEvent && f.attachEvent("onfocusin", function () { a = null }) })(jQuery); !function (a) { var b = function (a, b) { this.init("tooltip", a, b) }; b.prototype = { constructor: b, init: function (b, c, d) { var e, f; this.type = b, this.$element = a(c), this.options = this.getOptions(d), this.enabled = !0, this.options.trigger == "click" ? this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this)) : this.options.trigger != "manual" && (e = this.options.trigger == "hover" ? "mouseenter" : "focus", f = this.options.trigger == "hover" ? "mouseleave" : "blur", this.$element.on(e + "." + this.type, this.options.selector, a.proxy(this.enter, this)), this.$element.on(f + "." + this.type, this.options.selector, a.proxy(this.leave, this))), this.options.selector ? this._options = a.extend({}, this.options, { trigger: "manual", selector: "" }) : this.fixTitle() }, getOptions: function (b) { return b = a.extend({}, a.fn[this.type].defaults, b, this.$element.data()), b.delay && typeof b.delay == "number" && (b.delay = { show: b.delay, hide: b.delay }), b }, enter: function (b) { var c = a(b.currentTarget)[this.type](this._options).data(this.type); if (!c.options.delay || !c.options.delay.show) return c.show(); clearTimeout(this.timeout), c.hoverState = "in", this.timeout = setTimeout(function () { c.hoverState == "in" && c.show() }, c.options.delay.show) }, leave: function (b) { var c = a(b.currentTarget)[this.type](this._options).data(this.type); this.timeout && clearTimeout(this.timeout); if (!c.options.delay || !c.options.delay.hide) return c.hide(); c.hoverState = "out", this.timeout = setTimeout(function () { c.hoverState == "out" && c.hide() }, c.options.delay.hide) }, show: function () { var a, b, c, d, e, f, g; if (this.hasContent() && this.enabled) { a = this.tip(), this.setContent(), this.options.animation && a.addClass("fade"), f = typeof this.options.placement == "function" ? this.options.placement.call(this, a[0], this.$element[0]) : this.options.placement, b = /in/.test(f), a.detach().css({ top: 0, left: 0, display: "block" }).insertAfter(this.$element), c = this.getPosition(b), d = a[0].offsetWidth, e = a[0].offsetHeight; switch (b ? f.split(" ")[1] : f) { case "bottom": g = { top: c.top + c.height, left: c.left + c.width / 2 - d / 2 }; break; case "top": g = { top: c.top - e, left: c.left + c.width / 2 - d / 2 }; break; case "left": g = { top: c.top + c.height / 2 - e / 2, left: c.left - d }; break; case "right": g = { top: c.top + c.height / 2 - e / 2, left: c.left + c.width } } a.offset(g).addClass(f).addClass("in") } }, setContent: function () { var a = this.tip(), b = this.getTitle(); a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b), a.removeClass("fade in top bottom left right") }, hide: function () { function d() { var b = setTimeout(function () { c.off(a.support.transition.end).detach() }, 500); c.one(a.support.transition.end, function () { clearTimeout(b), c.detach() }) } var b = this, c = this.tip(); return c.removeClass("in"), a.support.transition && this.$tip.hasClass("fade") ? d() : c.detach(), this }, fixTitle: function () { var a = this.$element; (a.attr("title") || typeof a.attr("data-original-title") != "string") && a.attr("data-original-title", a.attr("title") || "").removeAttr("title") }, hasContent: function () { return this.getTitle() }, getPosition: function (b) { return a.extend({}, b ? { top: 0, left: 0 } : this.$element.offset(), { width: this.$element[0].offsetWidth, height: this.$element[0].offsetHeight }) }, getTitle: function () { var a, b = this.$element, c = this.options; return a = b.attr("data-original-title") || (typeof c.title == "function" ? c.title.call(b[0]) : c.title), a }, tip: function () { return this.$tip = this.$tip || a(this.options.template) }, validate: function () { this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null) }, enable: function () { this.enabled = !0 }, disable: function () { this.enabled = !1 }, toggleEnabled: function () { this.enabled = !this.enabled }, toggle: function (b) { var c = a(b.currentTarget)[this.type](this._options).data(this.type); c[c.tip().hasClass("in") ? "hide" : "show"]() }, destroy: function () { this.hide().$element.off("." + this.type).removeData(this.type) } }; var c = a.fn.tooltip; a.fn.tooltip = function (c) { return this.each(function () { var d = a(this), e = d.data("tooltip"), f = typeof c == "object" && c; e || d.data("tooltip", e = new b(this, f)), typeof c == "string" && e[c]() }) }, a.fn.tooltip.Constructor = b, a.fn.tooltip.defaults = { animation: !0, placement: "top", selector: !1, template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover", title: "", delay: 0, html: !1 }, a.fn.tooltip.noConflict = function () { return a.fn.tooltip = c, this } }(window.jQuery); !function (a) { var b = function (b, c) { this.options = c, this.$element = a(b).delegate('[data-dismiss="modal"]', "click.dismiss.modal", a.proxy(this.hide, this)), this.options.remote && this.$element.find(".modal-body").load(this.options.remote) }; b.prototype = { constructor: b, toggle: function () { return this[this.isShown ? "hide" : "show"]() }, show: function () { var b = this, c = a.Event("show"); this.$element.trigger(c); if (this.isShown || c.isDefaultPrevented()) return; this.isShown = !0, this.escape(), this.backdrop(function () { var c = a.support.transition && b.$element.hasClass("fade"); b.$element.parent().length || b.$element.appendTo(document.body), b.$element.show(), c && b.$element[0].offsetWidth, b.$element.addClass("in").attr("aria-hidden", !1), b.enforceFocus(), c ? b.$element.one(a.support.transition.end, function () { b.$element.focus().trigger("shown") }) : b.$element.focus().trigger("shown") }) }, hide: function (b) { b && b.preventDefault(); var c = this; b = a.Event("hide"), this.$element.trigger(b); if (!this.isShown || b.isDefaultPrevented()) return; this.isShown = !1, this.escape(), a(document).off("focusin.modal"), this.$element.removeClass("in").attr("aria-hidden", !0), a.support.transition && this.$element.hasClass("fade") ? this.hideWithTransition() : this.hideModal() }, enforceFocus: function () { var b = this; a(document).on("focusin.modal", function (a) { b.$element[0] !== a.target && !b.$element.has(a.target).length && b.$element.focus() }) }, escape: function () { var a = this; this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.modal", function (b) { b.which == 27 && a.hide() }) : this.isShown || this.$element.off("keyup.dismiss.modal") }, hideWithTransition: function () { var b = this, c = setTimeout(function () { b.$element.off(a.support.transition.end), b.hideModal() }, 500); this.$element.one(a.support.transition.end, function () { clearTimeout(c), b.hideModal() }) }, hideModal: function () { var a = this; this.$element.hide(), this.backdrop(function () { a.removeBackdrop(), a.$element.trigger("hidden") }) }, removeBackdrop: function () { this.$backdrop && this.$backdrop.remove(), this.$backdrop = null }, backdrop: function (b) { var c = this, d = this.$element.hasClass("fade") ? "fade" : ""; if (this.isShown && this.options.backdrop) { var e = a.support.transition && d; this.$backdrop = a('<div class="modal-backdrop ' + d + '" />').appendTo(document.body), this.$backdrop.click(this.options.backdrop == "static" ? a.proxy(this.$element[0].focus, this.$element[0]) : a.proxy(this.hide, this)), e && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"); if (!b) return; e ? this.$backdrop.one(a.support.transition.end, b) : b() } else !this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"), a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one(a.support.transition.end, b) : b()) : b && b() } }; var c = a.fn.modal; a.fn.modal = function (c) { return this.each(function () { var d = a(this), e = d.data("modal"), f = a.extend({}, a.fn.modal.defaults, d.data(), typeof c == "object" && c); e || d.data("modal", e = new b(this, f)), typeof c == "string" ? e[c]() : f.show && e.show() }) }, a.fn.modal.defaults = { backdrop: !0, keyboard: !0, show: !0 }, a.fn.modal.Constructor = b, a.fn.modal.noConflict = function () { return a.fn.modal = c, this }, a(document).on("click.modal.data-api", '[data-toggle="modal"]', function (b) { var c = a(this), d = c.attr("href"), e = a(c.attr("data-target") || d && d.replace(/.*(?=#[^\s]+$)/, "")), f = e.data("modal") ? "toggle" : a.extend({ remote: !/#/.test(d) && d }, e.data(), c.data()); b.preventDefault(), e.modal(f).one("hide", function () { c.focus() }) }) }(window.jQuery);
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
; (function ($) { $.fn.fitVids = function (options) { var settings = { customSelector: null, ignore: null }; if (!document.getElementById("fit-vids-style")) { var head = document.head || document.getElementsByTagName("head")[0]; var css = ".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}"; var div = document.createElement("div"); div.innerHTML = '<p>x</p><style id="fit-vids-style">' + css + "</style>"; head.appendChild(div.childNodes[1]) } if (options) { $.extend(settings, options) } return this.each(function () { var selectors = ['iframe[src*="player.vimeo.com"]', 'iframe[src*="youtube.com"]', 'iframe[src*="youtube-nocookie.com"]', 'iframe[src*="kickstarter.com"][src*="video.html"]', "object", "embed"]; if (settings.customSelector) { selectors.push(settings.customSelector) } var ignoreList = ".fitvidsignore"; if (settings.ignore) { ignoreList = ignoreList + ", " + settings.ignore } var $allVideos = $(this).find(selectors.join(",")); $allVideos = $allVideos.not("object object"); $allVideos = $allVideos.not(ignoreList); $allVideos.each(function () { var $this = $(this); if ($this.parents(ignoreList).length > 0) { return } if (this.tagName.toLowerCase() === "embed" && $this.parent("object").length || $this.parent(".fluid-width-video-wrapper").length) { return } if ((!$this.css("height") && !$this.css("width")) && (isNaN($this.attr("height")) || isNaN($this.attr("width")))) { $this.attr("height", 9); $this.attr("width", 16) } var height = (this.tagName.toLowerCase() === "object" || ($this.attr("height") && !isNaN(parseInt($this.attr("height"), 10)))) ? parseInt($this.attr("height"), 10) : $this.height(), width = !isNaN(parseInt($this.attr("width"), 10)) ? parseInt($this.attr("width"), 10) : $this.width(), aspectRatio = height / width; if (!$this.attr("id")) { var videoID = "fitvid" + Math.floor(Math.random() * 999999); $this.attr("id", videoID) } $this.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top", (aspectRatio * 100) + "%"); $this.removeAttr("height").removeAttr("width") }) }) } })(window.jQuery || window.Zepto); !function ($) { $("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" class="plus" />').prepend('<input type="button" value="-" class="minus" />'), $(document).on("click", ".plus, .minus", function () { var t = $(this).closest(".quantity").find(".qty"), a = parseFloat(t.val()), n = parseFloat(t.attr("max")), s = parseFloat(t.attr("min")), e = t.attr("step"); a && "" !== a && "NaN" !== a || (a = 0), ("" === n || "NaN" === n) && (n = ""), ("" === s || "NaN" === s) && (s = 0), ("any" === e || "" === e || void 0 === e || "NaN" === parseFloat(e)) && (e = 1), $(this).is(".plus") ? t.val(n && (n == a || a > n) ? n : a + parseFloat(e)) : s && (s == a || s > a) ? t.val(s) : a > 0 && t.val(a - parseFloat(e)), t.trigger("change") }) }(jQuery);
/*! http://mths.be/placeholder v2.0.7 by @mathias */
(function (q, f, d) { function r(b) { var a = {}, c = /^jQuery\d+$/; d.each(b.attributes, function (b, d) { d.specified && !c.test(d.name) && (a[d.name] = d.value) }); return a } function g(b, a) { var c = d(this); if (this.value == c.attr("placeholder") && c.hasClass("placeholder")) if (c.data("placeholder-password")) { c = c.hide().next().show().attr("id", c.removeAttr("id").data("placeholder-id")); if (!0 === b) return c[0].value = a; c.focus() } else this.value = "", c.removeClass("placeholder"), this == m() && this.select() } function k() { var b, a = d(this), c = this.id; if ("" == this.value) { if ("password" == this.type) { if (!a.data("placeholder-textinput")) { try { b = a.clone().attr({ type: "text" }) } catch (e) { b = d("<input>").attr(d.extend(r(this), { type: "text" })) } b.removeAttr("name").data({ "placeholder-password": a, "placeholder-id": c }).bind("focus.placeholder", g); a.data({ "placeholder-textinput": b, "placeholder-id": c }).before(b) } a = a.removeAttr("id").hide().prev().attr("id", c).show() } a.addClass("placeholder"); a[0].value = a.attr("placeholder") } else a.removeClass("placeholder") } function m() { try { return f.activeElement } catch (b) { } } var h = "placeholder" in f.createElement("input"), l = "placeholder" in f.createElement("textarea"), e = d.fn, n = d.valHooks, p = d.propHooks; h && l ? (e = e.placeholder = function () { return this }, e.input = e.textarea = !0) : (e = e.placeholder = function () { this.filter((h ? "textarea" : ":input") + "[placeholder]").not(".placeholder").bind({ "focus.placeholder": g, "blur.placeholder": k }).data("placeholder-enabled", !0).trigger("blur.placeholder"); return this }, e.input = h, e.textarea = l, e = { get: function (b) { var a = d(b), c = a.data("placeholder-password"); return c ? c[0].value : a.data("placeholder-enabled") && a.hasClass("placeholder") ? "" : b.value }, set: function (b, a) { var c = d(b), e = c.data("placeholder-password"); if (e) return e[0].value = a; if (!c.data("placeholder-enabled")) return b.value = a; "" == a ? (b.value = a, b != m() && k.call(b)) : c.hasClass("placeholder") ? g.call(b, !0, a) || (b.value = a) : b.value = a; return c } }, h || (n.input = e, p.value = e), l || (n.textarea = e, p.value = e), d(function () { d(f).delegate("form", "submit.placeholder", function () { var b = d(".placeholder", this).each(g); setTimeout(function () { b.each(k) }, 10) }) }), d(q).bind("beforeunload.placeholder", function () { d(".placeholder").each(function () { this.value = "" }) })) })(this, document, jQuery); (function () { for (var e = 0, b = ["ms", "moz", "webkit", "o"], a = 0; a < b.length && !window.requestAnimationFrame; ++a) window.requestAnimationFrame = window[b[a] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[b[a] + "CancelAnimationFrame"] || window[b[a] + "CancelRequestAnimationFrame"]; window.requestAnimationFrame || (window.requestAnimationFrame = function (a, b) { var c = (new Date).getTime(), d = Math.max(0, 16 - (c - e)), f = window.setTimeout(function () { a(c + d) }, d); e = c + d; return f }); window.cancelAnimationFrame || (window.cancelAnimationFrame = function (a) { clearTimeout(a) }) })();
/*! npm.im/object-fit-images */
var objectFitImages = function () { "use strict"; function t(t) { for (var e, r = getComputedStyle(t).fontFamily, i = {}; null !== (e = c.exec(r)) ;) i[e[1]] = e[2]; return i } function e(e, i) { if (!e[n].parsingSrcset) { var s = t(e); if (s["object-fit"] = s["object-fit"] || "fill", !e[n].s) { if ("fill" === s["object-fit"]) return; if (!e[n].skipTest && l && !s["object-position"]) return } var c = e[n].ios7src || e.currentSrc || e.src; if (i) c = i; else if (e.srcset && !u && window.picturefill) { var o = window.picturefill._; e[n].parsingSrcset = !0, e[o.ns] && e[o.ns].evaled || o.fillImg(e, { reselect: !0 }), e[o.ns].curSrc || (e[o.ns].supported = !1, o.fillImg(e, { reselect: !0 })), delete e[n].parsingSrcset, c = e[o.ns].curSrc || c } if (e[n].s) e[n].s = c, i && (e[n].srcAttr = i); else { e[n] = { s: c, srcAttr: i || f.call(e, "src"), srcsetAttr: e.srcset }, e.src = n; try { e.srcset && (e.srcset = "", Object.defineProperty(e, "srcset", { value: e[n].srcsetAttr })), r(e) } catch (t) { e[n].ios7src = c } } e.style.backgroundImage = 'url("' + c + '")', e.style.backgroundPosition = s["object-position"] || "center", e.style.backgroundRepeat = "no-repeat", /scale-down/.test(s["object-fit"]) ? (e[n].i || (e[n].i = new Image, e[n].i.src = c), function t() { return e[n].i.naturalWidth ? void (e[n].i.naturalWidth > e.width || e[n].i.naturalHeight > e.height ? e.style.backgroundSize = "contain" : e.style.backgroundSize = "auto") : void setTimeout(t, 100) }()) : e.style.backgroundSize = s["object-fit"].replace("none", "auto").replace("fill", "100% 100%") } } function r(t) { var r = { get: function () { return t[n].s }, set: function (r) { return delete t[n].i, e(t, r), r } }; Object.defineProperty(t, "src", r), Object.defineProperty(t, "currentSrc", { get: r.get }) } function i() { a || (HTMLImageElement.prototype.getAttribute = function (t) { return !this[n] || "src" !== t && "srcset" !== t ? f.call(this, t) : this[n][t + "Attr"] }, HTMLImageElement.prototype.setAttribute = function (t, e) { !this[n] || "src" !== t && "srcset" !== t ? g.call(this, t, e) : this["src" === t ? "src" : t + "Attr"] = String(e) }) } function s(t, r) { var i = !A && !t; if (r = r || {}, t = t || "img", a && !r.skipTest) return !1; "string" == typeof t ? t = document.querySelectorAll("img") : "length" in t && (t = [t]); for (var c = 0; c < t.length; c++) t[c][n] = t[c][n] || r, e(t[c]); i && (document.body.addEventListener("load", function (t) { "IMG" === t.target.tagName && s(t.target, { skipTest: r.skipTest }) }, !0), A = !0, t = "img"), r.watchMQ && window.addEventListener("resize", s.bind(null, t, { skipTest: r.skipTest })) } var n = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==", c = /(object-fit|object-position)\s*:\s*([-\w\s%]+)/g, o = new Image, l = "object-fit" in o.style, a = "object-position" in o.style, u = "string" == typeof o.currentSrc, f = o.getAttribute, g = o.setAttribute, A = !1; return s.supportsObjectFit = l, s.supportsObjectPosition = a, i(), s }();
/*! waitForImages - Custom Modified Version */
(function (a) { "function" === typeof define && define.amd ? define(["jquery"], a) : "object" === typeof exports ? module.exports = a(require("jquery")) : a(jQuery) })(function (a) { a.waitForImages = { hasImageProperties: ["backgroundImage", "listStyleImage", "borderImage", "borderCornerImage", "cursor"], hasImageAttributes: ["srcset"] }; a.expr[":"]["has-src"] = function (c) { return a(c).is('img[src][src!=""]') }; a.expr[":"].uncached = function (c) { return a(c).is(":has-src") ? !c.complete : !1 }; a.fn.waitForImages = function () { var c = 0, l = 0, m = a.Deferred(), e, g, d; a.isPlainObject(arguments[0]) ? (d = arguments[0].waitForAll, g = arguments[0].each, e = arguments[0].finished) : 1 === arguments.length && "boolean" === a.type(arguments[0]) ? d = arguments[0] : (e = arguments[0], g = arguments[1], d = arguments[2]); e = e || a.noop; g = g || a.noop; d = !!d; if (!a.isFunction(e) || !a.isFunction(g)) throw new TypeError("An invalid callback was supplied."); this.each(function () { var h = a(this), k = [], n = a.waitForImages.hasImageProperties || [], p = a.waitForImages.hasImageAttributes || [], q = /url\(\s*(['"]?)(.*?)\1\s*\)/g; d ? h.find("*").addBack().each(function () { var b = a(this); b.is("img:has-src") && !b.is("[srcset]") && k.push({ src: b.attr("src"), element: b[0] }); a.each(n, function (a, c) { var e = b.css(c), f; if (!e) return !0; for (; f = q.exec(e) ;) k.push({ src: f[2], element: b[0] }) }); a.each(p, function (a, c) { if (!b.attr(c)) return !0; k.push({ src: b.attr("src"), srcset: b.attr("srcset"), sizes: b.attr("sizes"), element: b[0] }) }) }) : h.find("img:has-src").each(function () { k.push({ src: this.src, element: this }) }); c = k.length; l = 0; 0 === c && (e.call(h[0]), m.resolveWith(h[0])); var t = "srcset" in document.createElement("img") && "sizes" in document.createElement("img"); a.each(k, function (b, f) { var d = new Image; a(d).one("load.waitForImages error.waitForImages", function r(b) { b = [l, c, "load" == b.type]; l++; g.apply(f.element, b); m.notifyWith(f.element, b); a(this).off("load.waitForImages error.waitForImages", r); if (l == c) return e.call(h[0]), m.resolveWith(h[0]), !1 }); f.srcset && t && (d.srcset = f.srcset, d.sizes = f.sizes); d.src = f.src }) }); return m.promise() } });
/*
 * jQuery FlexSlider v2.2.2
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */
!function (a) { a.flexslider = function (b, c) { var d = a(b); d.vars = a.extend({}, a.flexslider.defaults, c); var j, e = d.vars.namespace, f = window.navigator && window.navigator.msPointerEnabled && window.MSGesture, g = ("ontouchstart" in window || f || window.DocumentTouch && document instanceof DocumentTouch) && d.vars.touch, h = "click touchend MSPointerUp", i = "", k = "vertical" === d.vars.direction, l = d.vars.reverse, m = d.vars.itemWidth > 0, n = "fade" === d.vars.animation, o = "" !== d.vars.asNavFor, p = {}, q = !0; a.data(b, "flexslider", d), p = { init: function () { d.animating = !1, d.currentSlide = parseInt(d.vars.startAt ? d.vars.startAt : 0, 10), isNaN(d.currentSlide) && (d.currentSlide = 0), d.animatingTo = d.currentSlide, d.atEnd = 0 === d.currentSlide || d.currentSlide === d.last, d.containerSelector = d.vars.selector.substr(0, d.vars.selector.search(" ")), d.slides = a(d.vars.selector, d), d.container = a(d.containerSelector, d), d.count = d.slides.length, d.syncExists = a(d.vars.sync).length > 0, "slide" === d.vars.animation && (d.vars.animation = "swing"), d.prop = k ? "top" : "marginLeft", d.args = {}, d.manualPause = !1, d.stopped = !1, d.started = !1, d.startTimeout = null, d.transitions = !d.vars.video && !n && d.vars.useCSS && function () { var a = document.createElement("div"), b = ["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"]; for (var c in b) if (void 0 !== a.style[b[c]]) return d.pfx = b[c].replace("Perspective", "").toLowerCase(), d.prop = "-" + d.pfx + "-transform", !0; return !1 }(), d.ensureAnimationEnd = "", "" !== d.vars.controlsContainer && (d.controlsContainer = a(d.vars.controlsContainer).length > 0 && a(d.vars.controlsContainer)), "" !== d.vars.manualControls && (d.manualControls = a(d.vars.manualControls).length > 0 && a(d.vars.manualControls)), d.vars.randomize && (d.slides.sort(function () { return Math.round(Math.random()) - .5 }), d.container.empty().append(d.slides)), d.doMath(), d.setup("init"), d.vars.controlNav && p.controlNav.setup(), d.vars.directionNav && p.directionNav.setup(), d.vars.keyboard && (1 === a(d.containerSelector).length || d.vars.multipleKeyboard) && a(document).bind("keyup", function (a) { var b = a.keyCode; if (!d.animating && (39 === b || 37 === b)) { var c = 39 === b ? d.getTarget("next") : 37 === b ? d.getTarget("prev") : !1; d.flexAnimate(c, d.vars.pauseOnAction) } }), d.vars.mousewheel && d.bind("mousewheel", function (a, b) { a.preventDefault(); var f = 0 > b ? d.getTarget("next") : d.getTarget("prev"); d.flexAnimate(f, d.vars.pauseOnAction) }), d.vars.pausePlay && p.pausePlay.setup(), d.vars.slideshow && d.vars.pauseInvisible && p.pauseInvisible.init(), d.vars.slideshow && (d.vars.pauseOnHover && d.hover(function () { d.manualPlay || d.manualPause || d.pause() }, function () { d.manualPause || d.manualPlay || d.stopped || d.play() }), d.vars.pauseInvisible && p.pauseInvisible.isHidden() || (d.vars.initDelay > 0 ? d.startTimeout = setTimeout(d.play, d.vars.initDelay) : d.play())), o && p.asNav.setup(), g && d.vars.touch && p.touch(), (!n || n && d.vars.smoothHeight) && a(window).bind("resize orientationchange focus", p.resize), d.find("img").attr("draggable", "false"), setTimeout(function () { d.vars.start(d) }, 200) }, asNav: { setup: function () { d.asNav = !0, d.animatingTo = Math.floor(d.currentSlide / d.move), d.currentItem = d.currentSlide, d.slides.removeClass(e + "active-slide").eq(d.currentItem).addClass(e + "active-slide"), f ? (b._slider = d, d.slides.each(function () { var b = this; b._gesture = new MSGesture, b._gesture.target = b, b.addEventListener("MSPointerDown", function (a) { a.preventDefault(), a.currentTarget._gesture && a.currentTarget._gesture.addPointer(a.pointerId) }, !1), b.addEventListener("MSGestureTap", function (b) { b.preventDefault(); var c = a(this), e = c.index(); a(d.vars.asNavFor).data("flexslider").animating || c.hasClass("active") || (d.direction = d.currentItem < e ? "next" : "prev", d.flexAnimate(e, d.vars.pauseOnAction, !1, !0, !0)) }) })) : d.slides.on(h, function (b) { b.preventDefault(); var c = a(this), f = c.index(), g = c.offset().left - a(d).scrollLeft(); 0 >= g && c.hasClass(e + "active-slide") ? d.flexAnimate(d.getTarget("prev"), !0) : a(d.vars.asNavFor).data("flexslider").animating || c.hasClass(e + "active-slide") || (d.direction = d.currentItem < f ? "next" : "prev", d.flexAnimate(f, d.vars.pauseOnAction, !1, !0, !0)) }) } }, controlNav: { setup: function () { d.manualControls ? p.controlNav.setupManual() : p.controlNav.setupPaging() }, setupPaging: function () { var f, g, b = "thumbnails" === d.vars.controlNav ? "control-thumbs" : "control-paging", c = 1; if (d.controlNavScaffold = a('<ol class="' + e + "control-nav " + e + b + '"></ol>'), d.pagingCount > 1) for (var j = 0; j < d.pagingCount; j++) { if (g = d.slides.eq(j), f = "thumbnails" === d.vars.controlNav ? '<img src="' + g.attr("data-thumb") + '"/>' : "<a>" + c + "</a>", "thumbnails" === d.vars.controlNav && !0 === d.vars.thumbCaptions) { var k = g.attr("data-thumbcaption"); "" != k && void 0 != k && (f += '<span class="' + e + 'caption">' + k + "</span>") } d.controlNavScaffold.append("<li>" + f + "</li>"), c++ } d.controlsContainer ? a(d.controlsContainer).append(d.controlNavScaffold) : d.append(d.controlNavScaffold), p.controlNav.set(), p.controlNav.active(), d.controlNavScaffold.delegate("a, img", h, function (b) { if (b.preventDefault(), "" === i || i === b.type) { var c = a(this), f = d.controlNav.index(c); c.hasClass(e + "active") || (d.direction = f > d.currentSlide ? "next" : "prev", d.flexAnimate(f, d.vars.pauseOnAction)) } "" === i && (i = b.type), p.setToClearWatchedEvent() }) }, setupManual: function () { d.controlNav = d.manualControls, p.controlNav.active(), d.controlNav.bind(h, function (b) { if (b.preventDefault(), "" === i || i === b.type) { var c = a(this), f = d.controlNav.index(c); c.hasClass(e + "active") || (d.direction = f > d.currentSlide ? "next" : "prev", d.flexAnimate(f, d.vars.pauseOnAction)) } "" === i && (i = b.type), p.setToClearWatchedEvent() }) }, set: function () { var b = "thumbnails" === d.vars.controlNav ? "img" : "a"; d.controlNav = a("." + e + "control-nav li " + b, d.controlsContainer ? d.controlsContainer : d) }, active: function () { d.controlNav.removeClass(e + "active").eq(d.animatingTo).addClass(e + "active") }, update: function (b, c) { d.pagingCount > 1 && "add" === b ? d.controlNavScaffold.append(a("<li><a>" + d.count + "</a></li>")) : 1 === d.pagingCount ? d.controlNavScaffold.find("li").remove() : d.controlNav.eq(c).closest("li").remove(), p.controlNav.set(), d.pagingCount > 1 && d.pagingCount !== d.controlNav.length ? d.update(c, b) : p.controlNav.active() } }, directionNav: { setup: function () { var b = a('<ul class="' + e + 'direction-nav"><li><a class="' + e + 'prev" href="#">' + d.vars.prevText + '</a></li><li><a class="' + e + 'next" href="#">' + d.vars.nextText + "</a></li></ul>"); d.controlsContainer ? (a(d.controlsContainer).append(b), d.directionNav = a("." + e + "direction-nav li a", d.controlsContainer)) : (d.append(b), d.directionNav = a("." + e + "direction-nav li a", d)), p.directionNav.update(), d.directionNav.bind(h, function (b) { b.preventDefault(); var c; ("" === i || i === b.type) && (c = a(this).hasClass(e + "next") ? d.getTarget("next") : d.getTarget("prev"), d.flexAnimate(c, d.vars.pauseOnAction)), "" === i && (i = b.type), p.setToClearWatchedEvent() }) }, update: function () { var a = e + "disabled"; 1 === d.pagingCount ? d.directionNav.addClass(a).attr("tabindex", "-1") : d.vars.animationLoop ? d.directionNav.removeClass(a).removeAttr("tabindex") : 0 === d.animatingTo ? d.directionNav.removeClass(a).filter("." + e + "prev").addClass(a).attr("tabindex", "-1") : d.animatingTo === d.last ? d.directionNav.removeClass(a).filter("." + e + "next").addClass(a).attr("tabindex", "-1") : d.directionNav.removeClass(a).removeAttr("tabindex") } }, pausePlay: { setup: function () { var b = a('<div class="' + e + 'pauseplay"><a></a></div>'); d.controlsContainer ? (d.controlsContainer.append(b), d.pausePlay = a("." + e + "pauseplay a", d.controlsContainer)) : (d.append(b), d.pausePlay = a("." + e + "pauseplay a", d)), p.pausePlay.update(d.vars.slideshow ? e + "pause" : e + "play"), d.pausePlay.bind(h, function (b) { b.preventDefault(), ("" === i || i === b.type) && (a(this).hasClass(e + "pause") ? (d.manualPause = !0, d.manualPlay = !1, d.pause()) : (d.manualPause = !1, d.manualPlay = !0, d.play())), "" === i && (i = b.type), p.setToClearWatchedEvent() }) }, update: function (a) { "play" === a ? d.pausePlay.removeClass(e + "pause").addClass(e + "play").html(d.vars.playText) : d.pausePlay.removeClass(e + "play").addClass(e + "pause").html(d.vars.pauseText) } }, touch: function () { function r(b) { o = b.touches[0].pageX, p = b.touches[0].pageY, h = k ? a - p : a - o, j = k ? Math.abs(h) < Math.abs(o - c) : Math.abs(h) < Math.abs(p - c); var f = 500; (!j || Number(new Date) - i > f) && (b.preventDefault(), !n && d.transitions && (d.vars.animationLoop || (h /= 0 === d.currentSlide && 0 > h || d.currentSlide === d.last && h > 0 ? Math.abs(h) / g + 2 : 1), d.setProps(e + h, "setTouch"))) } function s() { if (b.removeEventListener("touchmove", r, !1), d.animatingTo === d.currentSlide && !j && null !== h) { var k = l ? -h : h, m = k > 0 ? d.getTarget("next") : d.getTarget("prev"); d.canAdvance(m) && (Number(new Date) - i < 550 && Math.abs(k) > 50 || Math.abs(k) > g / 2) ? d.flexAnimate(m, d.vars.pauseOnAction) : n || d.flexAnimate(d.currentSlide, d.vars.pauseOnAction, !0) } b.removeEventListener("touchend", s, !1), a = null, c = null, h = null, e = null } function t(f) { d.animating ? f.preventDefault() : (window.navigator.msPointerEnabled || 1 === f.touches.length) && (d.pause(), g = k ? d.h : d.w, i = Number(new Date), o = f.touches[0].pageX, p = f.touches[0].pageY, e = m && l && d.animatingTo === d.last ? 0 : m && l ? d.limit - (d.itemW + d.vars.itemMargin) * d.move * d.animatingTo : m && d.currentSlide === d.last ? d.limit : m ? (d.itemW + d.vars.itemMargin) * d.move * d.currentSlide : l ? (d.last - d.currentSlide + d.cloneOffset) * g : (d.currentSlide + d.cloneOffset) * g, a = k ? p : o, c = k ? o : p, b.addEventListener("touchmove", r, !1), b.addEventListener("touchend", s, !1)) } function u(a) { a.stopPropagation(), d.animating ? a.preventDefault() : (d.pause(), b._gesture.addPointer(a.pointerId), q = 0, g = k ? d.h : d.w, i = Number(new Date), e = m && l && d.animatingTo === d.last ? 0 : m && l ? d.limit - (d.itemW + d.vars.itemMargin) * d.move * d.animatingTo : m && d.currentSlide === d.last ? d.limit : m ? (d.itemW + d.vars.itemMargin) * d.move * d.currentSlide : l ? (d.last - d.currentSlide + d.cloneOffset) * g : (d.currentSlide + d.cloneOffset) * g) } function v(a) { a.stopPropagation(); var c = a.target._slider; if (c) { var d = -a.translationX, f = -a.translationY; return q += k ? f : d, h = q, j = k ? Math.abs(q) < Math.abs(-d) : Math.abs(q) < Math.abs(-f), a.detail === a.MSGESTURE_FLAG_INERTIA ? (setImmediate(function () { b._gesture.stop() }), void 0) : ((!j || Number(new Date) - i > 500) && (a.preventDefault(), !n && c.transitions && (c.vars.animationLoop || (h = q / (0 === c.currentSlide && 0 > q || c.currentSlide === c.last && q > 0 ? Math.abs(q) / g + 2 : 1)), c.setProps(e + h, "setTouch"))), void 0) } } function w(b) { b.stopPropagation(); var d = b.target._slider; if (d) { if (d.animatingTo === d.currentSlide && !j && null !== h) { var f = l ? -h : h, k = f > 0 ? d.getTarget("next") : d.getTarget("prev"); d.canAdvance(k) && (Number(new Date) - i < 550 && Math.abs(f) > 50 || Math.abs(f) > g / 2) ? d.flexAnimate(k, d.vars.pauseOnAction) : n || d.flexAnimate(d.currentSlide, d.vars.pauseOnAction, !0) } a = null, c = null, h = null, e = null, q = 0 } } var a, c, e, g, h, i, j = !1, o = 0, p = 0, q = 0; f ? (b.style.msTouchAction = "none", b._gesture = new MSGesture, b._gesture.target = b, b.addEventListener("MSPointerDown", u, !1), b._slider = d, b.addEventListener("MSGestureChange", v, !1), b.addEventListener("MSGestureEnd", w, !1)) : b.addEventListener("touchstart", t, !1) }, resize: function () { !d.animating && d.is(":visible") && (m || d.doMath(), n ? p.smoothHeight() : m ? (d.slides.width(d.computedW), d.update(d.pagingCount), d.setProps()) : k ? (d.viewport.height(d.h), d.setProps(d.h, "setTotal")) : (d.vars.smoothHeight && p.smoothHeight(), d.newSlides.width(d.computedW), d.setProps(d.computedW, "setTotal"))) }, smoothHeight: function (a) { if (!k || n) { var b = n ? d : d.viewport; a ? b.animate({ height: d.slides.eq(d.animatingTo).height() }, a) : b.height(d.slides.eq(d.animatingTo).height()) } }, sync: function (b) { var c = a(d.vars.sync).data("flexslider"), e = d.animatingTo; switch (b) { case "animate": c.flexAnimate(e, d.vars.pauseOnAction, !1, !0); break; case "play": c.playing || c.asNav || c.play(); break; case "pause": c.pause() } }, uniqueID: function (b) { return b.find("[id]").each(function () { var b = a(this); b.attr("id", b.attr("id") + "_clone") }), b }, pauseInvisible: { visProp: null, init: function () { var a = ["webkit", "moz", "ms", "o"]; if ("hidden" in document) return "hidden"; for (var b = 0; b < a.length; b++) a[b] + "Hidden" in document && (p.pauseInvisible.visProp = a[b] + "Hidden"); if (p.pauseInvisible.visProp) { var c = p.pauseInvisible.visProp.replace(/[H|h]idden/, "") + "visibilitychange"; document.addEventListener(c, function () { p.pauseInvisible.isHidden() ? d.startTimeout ? clearTimeout(d.startTimeout) : d.pause() : d.started ? d.play() : d.vars.initDelay > 0 ? setTimeout(d.play, d.vars.initDelay) : d.play() }) } }, isHidden: function () { return document[p.pauseInvisible.visProp] || !1 } }, setToClearWatchedEvent: function () { clearTimeout(j), j = setTimeout(function () { i = "" }, 3e3) } }, d.flexAnimate = function (b, c, f, h, i) { if (d.vars.animationLoop || b === d.currentSlide || (d.direction = b > d.currentSlide ? "next" : "prev"), o && 1 === d.pagingCount && (d.direction = d.currentItem < b ? "next" : "prev"), !d.animating && (d.canAdvance(b, i) || f) && d.is(":visible")) { if (o && h) { var j = a(d.vars.asNavFor).data("flexslider"); if (d.atEnd = 0 === b || b === d.count - 1, j.flexAnimate(b, !0, !1, !0, i), d.direction = d.currentItem < b ? "next" : "prev", j.direction = d.direction, Math.ceil((b + 1) / d.visible) - 1 === d.currentSlide || 0 === b) return d.currentItem = b, d.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"), !1; d.currentItem = b, d.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"), b = Math.floor(b / d.visible) } if (d.animating = !0, d.animatingTo = b, c && d.pause(), d.vars.before(d), d.syncExists && !i && p.sync("animate"), d.vars.controlNav && p.controlNav.active(), m || d.slides.removeClass(e + "active-slide").eq(b).addClass(e + "active-slide"), d.atEnd = 0 === b || b === d.last, d.vars.directionNav && p.directionNav.update(), b === d.last && (d.vars.end(d), d.vars.animationLoop || d.pause()), n) g ? (d.slides.eq(d.currentSlide).css({ opacity: 0, zIndex: 1 }), d.slides.eq(b).css({ opacity: 1, zIndex: 2 }), d.wrapup(q)) : (d.slides.eq(d.currentSlide).css({ zIndex: 1 }).animate({ opacity: 0 }, d.vars.animationSpeed, d.vars.easing), d.slides.eq(b).css({ zIndex: 2 }).animate({ opacity: 1 }, d.vars.animationSpeed, d.vars.easing, d.wrapup)); else { var r, s, t, q = k ? d.slides.filter(":first").height() : d.computedW; m ? (r = d.vars.itemMargin, t = (d.itemW + r) * d.move * d.animatingTo, s = t > d.limit && 1 !== d.visible ? d.limit : t) : s = 0 === d.currentSlide && b === d.count - 1 && d.vars.animationLoop && "next" !== d.direction ? l ? (d.count + d.cloneOffset) * q : 0 : d.currentSlide === d.last && 0 === b && d.vars.animationLoop && "prev" !== d.direction ? l ? 0 : (d.count + 1) * q : l ? (d.count - 1 - b + d.cloneOffset) * q : (b + d.cloneOffset) * q, d.setProps(s, "", d.vars.animationSpeed), d.transitions ? (d.vars.animationLoop && d.atEnd || (d.animating = !1, d.currentSlide = d.animatingTo), d.container.unbind("webkitTransitionEnd transitionend"), d.container.bind("webkitTransitionEnd transitionend", function () { clearTimeout(d.ensureAnimationEnd), d.wrapup(q) }), clearTimeout(d.ensureAnimationEnd), d.ensureAnimationEnd = setTimeout(function () { d.wrapup(q) }, d.vars.animationSpeed + 100)) : d.container.animate(d.args, d.vars.animationSpeed, d.vars.easing, function () { d.wrapup(q) }) } d.vars.smoothHeight && p.smoothHeight(d.vars.animationSpeed) } }, d.wrapup = function (a) { n || m || (0 === d.currentSlide && d.animatingTo === d.last && d.vars.animationLoop ? d.setProps(a, "jumpEnd") : d.currentSlide === d.last && 0 === d.animatingTo && d.vars.animationLoop && d.setProps(a, "jumpStart")), d.animating = !1, d.currentSlide = d.animatingTo, d.vars.after(d) }, d.animateSlides = function () { !d.animating && q && d.flexAnimate(d.getTarget("next")) }, d.pause = function () { clearInterval(d.animatedSlides), d.animatedSlides = null, d.playing = !1, d.vars.pausePlay && p.pausePlay.update("play"), d.syncExists && p.sync("pause") }, d.play = function () { d.playing && clearInterval(d.animatedSlides), d.animatedSlides = d.animatedSlides || setInterval(d.animateSlides, d.vars.slideshowSpeed), d.started = d.playing = !0, d.vars.pausePlay && p.pausePlay.update("pause"), d.syncExists && p.sync("play") }, d.stop = function () { d.pause(), d.stopped = !0 }, d.canAdvance = function (a, b) { var c = o ? d.pagingCount - 1 : d.last; return b ? !0 : o && d.currentItem === d.count - 1 && 0 === a && "prev" === d.direction ? !0 : o && 0 === d.currentItem && a === d.pagingCount - 1 && "next" !== d.direction ? !1 : a !== d.currentSlide || o ? d.vars.animationLoop ? !0 : d.atEnd && 0 === d.currentSlide && a === c && "next" !== d.direction ? !1 : d.atEnd && d.currentSlide === c && 0 === a && "next" === d.direction ? !1 : !0 : !1 }, d.getTarget = function (a) { return d.direction = a, "next" === a ? d.currentSlide === d.last ? 0 : d.currentSlide + 1 : 0 === d.currentSlide ? d.last : d.currentSlide - 1 }, d.setProps = function (a, b, c) { var e = function () { var c = a ? a : (d.itemW + d.vars.itemMargin) * d.move * d.animatingTo, e = function () { if (m) return "setTouch" === b ? a : l && d.animatingTo === d.last ? 0 : l ? d.limit - (d.itemW + d.vars.itemMargin) * d.move * d.animatingTo : d.animatingTo === d.last ? d.limit : c; switch (b) { case "setTotal": return l ? (d.count - 1 - d.currentSlide + d.cloneOffset) * a : (d.currentSlide + d.cloneOffset) * a; case "setTouch": return l ? a : a; case "jumpEnd": return l ? a : d.count * a; case "jumpStart": return l ? d.count * a : a; default: return a } }(); return -1 * e + "px" }(); d.transitions && (e = k ? "translate3d(0," + e + ",0)" : "translate3d(" + e + ",0,0)", c = void 0 !== c ? c / 1e3 + "s" : "0s", d.container.css("-" + d.pfx + "-transition-duration", c), d.container.css("transition-duration", c)), d.args[d.prop] = e, (d.transitions || void 0 === c) && d.container.css(d.args), d.container.css("transform", e) }, d.setup = function (b) { if (n) d.slides.css({ width: "100%", "float": "left", marginRight: "-100%", position: "relative" }), "init" === b && (g ? d.slides.css({ opacity: 0, display: "block", webkitTransition: "opacity " + d.vars.animationSpeed / 1e3 + "s ease", zIndex: 1 }).eq(d.currentSlide).css({ opacity: 1, zIndex: 2 }) : d.slides.css({ opacity: 0, display: "block", zIndex: 1 }).eq(d.currentSlide).css({ zIndex: 2 }).animate({ opacity: 1 }, d.vars.animationSpeed, d.vars.easing)), d.vars.smoothHeight && p.smoothHeight(); else { var c, f; "init" === b && (d.viewport = a('<div class="' + e + 'viewport"></div>').css({ overflow: "hidden", position: "relative" }).appendTo(d).append(d.container), d.cloneCount = 0, d.cloneOffset = 0, l && (f = a.makeArray(d.slides).reverse(), d.slides = a(f), d.container.empty().append(d.slides))), d.vars.animationLoop && !m && (d.cloneCount = 2, d.cloneOffset = 1, "init" !== b && d.container.find(".clone").remove(), p.uniqueID(d.slides.first().clone().addClass("clone").attr("aria-hidden", "true")).appendTo(d.container), p.uniqueID(d.slides.last().clone().addClass("clone").attr("aria-hidden", "true")).prependTo(d.container)), d.newSlides = a(d.vars.selector, d), c = l ? d.count - 1 - d.currentSlide + d.cloneOffset : d.currentSlide + d.cloneOffset, k && !m ? (d.container.height(200 * (d.count + d.cloneCount) + "%").css("position", "absolute").width("100%"), setTimeout(function () { d.newSlides.css({ display: "block" }), d.doMath(), d.viewport.height(d.h), d.setProps(c * d.h, "init") }, "init" === b ? 100 : 0)) : (d.container.width(200 * (d.count + d.cloneCount) + "%"), d.setProps(c * d.computedW, "init"), setTimeout(function () { d.doMath(), d.newSlides.css({ width: d.computedW, "float": "left", display: "block" }), d.vars.smoothHeight && p.smoothHeight() }, "init" === b ? 100 : 0)) } m || d.slides.removeClass(e + "active-slide").eq(d.currentSlide).addClass(e + "active-slide"), d.vars.init(d) }, d.doMath = function () { var a = d.slides.first(), b = d.vars.itemMargin, c = d.vars.minItems, e = d.vars.maxItems; d.w = void 0 === d.viewport ? d.width() : d.viewport.width(), d.h = a.height(), d.boxPadding = a.outerWidth() - a.width(), m ? (d.itemT = d.vars.itemWidth + b, d.minW = c ? c * d.itemT : d.w, d.maxW = e ? e * d.itemT - b : d.w, d.itemW = d.minW > d.w ? (d.w - b * (c - 1)) / c : d.maxW < d.w ? (d.w - b * (e - 1)) / e : d.vars.itemWidth > d.w ? d.w : d.vars.itemWidth, d.visible = Math.floor(d.w / d.itemW), d.move = d.vars.move > 0 && d.vars.move < d.visible ? d.vars.move : d.visible, d.pagingCount = Math.ceil((d.count - d.visible) / d.move + 1), d.last = d.pagingCount - 1, d.limit = 1 === d.pagingCount ? 0 : d.vars.itemWidth > d.w ? d.itemW * (d.count - 1) + b * (d.count - 1) : (d.itemW + b) * d.count - d.w - b) : (d.itemW = d.w, d.pagingCount = d.count, d.last = d.count - 1), d.computedW = d.itemW - d.boxPadding }, d.update = function (a, b) { d.doMath(), m || (a < d.currentSlide ? d.currentSlide += 1 : a <= d.currentSlide && 0 !== a && (d.currentSlide -= 1), d.animatingTo = d.currentSlide), d.vars.controlNav && !d.manualControls && ("add" === b && !m || d.pagingCount > d.controlNav.length ? p.controlNav.update("add") : ("remove" === b && !m || d.pagingCount < d.controlNav.length) && (m && d.currentSlide > d.last && (d.currentSlide -= 1, d.animatingTo -= 1), p.controlNav.update("remove", d.last))), d.vars.directionNav && p.directionNav.update() }, d.addSlide = function (b, c) { var e = a(b); d.count += 1, d.last = d.count - 1, k && l ? void 0 !== c ? d.slides.eq(d.count - c).after(e) : d.container.prepend(e) : void 0 !== c ? d.slides.eq(c).before(e) : d.container.append(e), d.update(c, "add"), d.slides = a(d.vars.selector + ":not(.clone)", d), d.setup(), d.vars.added(d) }, d.removeSlide = function (b) { var c = isNaN(b) ? d.slides.index(a(b)) : b; d.count -= 1, d.last = d.count - 1, isNaN(b) ? a(b, d.slides).remove() : k && l ? d.slides.eq(d.last).remove() : d.slides.eq(b).remove(), d.doMath(), d.update(c, "remove"), d.slides = a(d.vars.selector + ":not(.clone)", d), d.setup(), d.vars.removed(d) }, p.init() }, a(window).blur(function () { focused = !1 }).focus(function () { focused = !0 }), a.flexslider.defaults = { namespace: "flex-", selector: ".slides > li", animation: "fade", easing: "swing", direction: "horizontal", reverse: !1, animationLoop: !0, smoothHeight: !1, startAt: 0, slideshow: !0, slideshowSpeed: 7e3, animationSpeed: 600, initDelay: 0, randomize: !1, thumbCaptions: !1, pauseOnAction: !0, pauseOnHover: !1, pauseInvisible: !0, useCSS: !0, touch: !0, video: !1, controlNav: !0, directionNav: !0, prevText: "Previous", nextText: "Next", keyboard: !0, multipleKeyboard: !1, mousewheel: !1, pausePlay: !1, pauseText: "Pause", playText: "Play", controlsContainer: "", manualControls: "", sync: "", asNavFor: "", itemWidth: 0, itemMargin: 0, minItems: 1, maxItems: 0, move: 0, allowOneSlide: !0, start: function () { }, before: function () { }, after: function () { }, end: function () { }, added: function () { }, removed: function () { }, init: function () { } }, a.fn.flexslider = function (b) { if (void 0 === b && (b = {}), "object" == typeof b) return this.each(function () { var c = a(this), d = b.selector ? b.selector : ".slides > li", e = c.find(d); 1 === e.length && b.allowOneSlide === !0 || 0 === e.length ? (e.fadeIn(400), b.start && b.start(c)) : void 0 === c.data("flexslider") && new a.flexslider(this, b) }); var c = a(this).data("flexslider"); switch (b) { case "play": c.play(); break; case "pause": c.pause(); break; case "stop": c.stop(); break; case "next": c.flexAnimate(c.getTarget("next"), !0); break; case "prev": case "previous": c.flexAnimate(c.getTarget("prev"), !0); break; default: "number" == typeof b && c.flexAnimate(b, !0) } } }(jQuery);
/*!
 * Theia Sticky Sidebar v1.2.2
 * https://github.com/WeCodePixels/theia-sticky-sidebar
 *
 * Glues your website's sidebars, making them permanently visible while scrolling.
 *
 * Copyright 2013-2014 WeCodePixels and other contributors
 * Released under the MIT license
 */
!function (i) { i.fn.theiaStickySidebar = function (t) { var o = { containerSelector: "", additionalMarginTop: 0, additionalMarginBottom: 0, updateSidebarHeight: !0, minWidth: 0 }; t = i.extend(o, t), t.additionalMarginTop = parseInt(t.additionalMarginTop) || 0, t.additionalMarginBottom = parseInt(t.additionalMarginBottom) || 0, i("head").append(i('<style>.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')), this.each(function () { function o() { e.fixedScrollTop = 0, e.sidebar.css({ "min-height": "1px" }), e.stickySidebar.css({ position: "static", width: "" }) } function a(t) { var o = t.height(); return t.children().each(function () { o = Math.max(o, i(this).height()) }), o } var e = {}; e.sidebar = i(this), e.options = t || {}, e.container = i(e.options.containerSelector), 0 == e.container.size() && (e.container = e.sidebar.parent()), e.sidebar.parents().css("-webkit-transform", "none"), e.sidebar.css({ position: "relative", overflow: "visible", "-webkit-box-sizing": "border-box", "-moz-box-sizing": "border-box", "box-sizing": "border-box" }), e.stickySidebar = e.sidebar.find(".theiaStickySidebar"), 0 == e.stickySidebar.length && (e.sidebar.find("script").remove(), e.stickySidebar = i("<div>").addClass("theiaStickySidebar").append(e.sidebar.children()), e.sidebar.append(e.stickySidebar)), e.marginTop = parseInt(e.sidebar.css("margin-top")), e.marginBottom = parseInt(e.sidebar.css("margin-bottom")), e.paddingTop = parseInt(e.sidebar.css("padding-top")), e.paddingBottom = parseInt(e.sidebar.css("padding-bottom")); var d = e.stickySidebar.offset().top, r = e.stickySidebar.outerHeight(); e.stickySidebar.css("padding-top", 1), e.stickySidebar.css("padding-bottom", 1), d -= e.stickySidebar.offset().top, r = e.stickySidebar.outerHeight() - r - d, 0 == d ? (e.stickySidebar.css("padding-top", 0), e.stickySidebarPaddingTop = 0) : e.stickySidebarPaddingTop = 1, 0 == r ? (e.stickySidebar.css("padding-bottom", 0), e.stickySidebarPaddingBottom = 0) : e.stickySidebarPaddingBottom = 1, e.previousScrollTop = null, e.fixedScrollTop = 0, o(), e.onScroll = function (e) { if (e.stickySidebar.is(":visible")) { if (i("body").width() < e.options.minWidth) return void o(); if (e.sidebar.outerWidth(!0) + 50 > e.container.width()) return void o(); var d = i(document).scrollTop(), r = "static"; if (d >= e.container.offset().top + (e.paddingTop + e.marginTop - e.options.additionalMarginTop)) { var s, n = e.paddingTop + e.marginTop + t.additionalMarginTop, c = e.paddingBottom + e.marginBottom + t.additionalMarginBottom, p = e.container.offset().top, b = e.container.offset().top + a(e.container), g = 0 + t.additionalMarginTop, l = e.stickySidebar.outerHeight() + n + c < i(window).height(); s = l ? g + e.stickySidebar.outerHeight() : i(window).height() - e.marginBottom - e.paddingBottom - t.additionalMarginBottom; var f = p - d + e.paddingTop + e.marginTop, S = b - d - e.paddingBottom - e.marginBottom, h = e.stickySidebar.offset().top - d, m = e.previousScrollTop - d; "fixed" == e.stickySidebar.css("position") && (h += m), h = m > 0 ? Math.min(h, g) : Math.max(h, s - e.stickySidebar.outerHeight()), h = Math.max(h, f), h = Math.min(h, S - e.stickySidebar.outerHeight()); var y = e.container.height() == e.stickySidebar.outerHeight(); r = (y || h != g) && (y || h != s - e.stickySidebar.outerHeight()) ? d + h - e.sidebar.offset().top - e.paddingTop <= t.additionalMarginTop ? "static" : "absolute" : "fixed" } if ("fixed" == r) e.stickySidebar.css({ position: "fixed", width: e.sidebar.width(), top: h, left: e.sidebar.offset().left + parseInt(e.sidebar.css("padding-left")) + parseInt(e.sidebar.css("border-left")) }); else if ("absolute" == r) { var k = {}; "absolute" != e.stickySidebar.css("position") && (k.position = "absolute", k.top = d + h - e.sidebar.offset().top - e.stickySidebarPaddingTop - e.stickySidebarPaddingBottom), k.width = e.sidebar.width(), k.left = "", e.stickySidebar.css(k) } else "static" == r && o(); "static" != r && 1 == e.options.updateSidebarHeight && e.sidebar.css({ "min-height": e.stickySidebar.outerHeight() + e.stickySidebar.offset().top - e.sidebar.offset().top + e.paddingBottom }), e.previousScrollTop = d } }, e.onScroll(e), i(document).scroll(function (i) { return function () { i.onScroll(i) } }(e)), i(window).resize(function (i) { return function () { i.stickySidebar.css({ position: "static" }), i.onScroll(i) } }(e)) }) } }(jQuery);
!function (a, b) { "use strict"; function c() { if (!e) { e = !0; var a, c, d, f, g = -1 !== navigator.appVersion.indexOf("MSIE 10"), h = !!navigator.userAgent.match(/Trident.*rv:11\./), i = b.querySelectorAll("iframe.wp-embedded-content"); for (c = 0; c < i.length; c++) { if (d = i[c], !d.getAttribute("data-secret")) f = Math.random().toString(36).substr(2, 10), d.src += "#?secret=" + f, d.setAttribute("data-secret", f); if (g || h) a = d.cloneNode(!0), a.removeAttribute("security"), d.parentNode.replaceChild(a, d) } } } var d = !1, e = !1; if (b.querySelector) if (a.addEventListener) d = !0; if (a.wp = a.wp || {}, !a.wp.receiveEmbedMessage) if (a.wp.receiveEmbedMessage = function (c) { var d = c.data; if (d.secret || d.message || d.value) if (!/[^a-zA-Z0-9]/.test(d.secret)) { var e, f, g, h, i, j = b.querySelectorAll('iframe[data-secret="' + d.secret + '"]'), k = b.querySelectorAll('blockquote[data-secret="' + d.secret + '"]'); for (e = 0; e < k.length; e++) k[e].style.display = "none"; for (e = 0; e < j.length; e++) if (f = j[e], c.source === f.contentWindow) { if (f.removeAttribute("style"), "height" === d.message) { if (g = parseInt(d.value, 10), g > 1e3) g = 1e3; else if (~~g < 200) g = 200; f.height = g } if ("link" === d.message) if (h = b.createElement("a"), i = b.createElement("a"), h.href = f.getAttribute("src"), i.href = d.value, i.host === h.host) if (b.activeElement === f) a.top.location.href = d.value } else; } }, d) a.addEventListener("message", a.wp.receiveEmbedMessage, !1), b.addEventListener("DOMContentLoaded", c, !1), a.addEventListener("load", c, !1) }(window, document);